!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";function a(e){return confirm(e)}function r(e){var t=document.getElementById(e);if(null!=t)for(;t.firstChild;)t.removeChild(t.firstChild)}function i(e){var t=document.getElementById(e);null!=t&&t.parentNode.removeChild(t)}n.r(t),n.d(t,"apexUtils_removeElement",(function(){return i})),n.d(t,"apexUtils_emptyElement",(function(){return r})),n.d(t,"scrollToTop",(function(){return u})),n.d(t,"apexUtils_areYouSure",(function(){return a})),n.d(t,"createAddFormButton",(function(){return s})),n.d(t,"apexUtils_escapeHtml",(function(){return l})),n.d(t,"apexUtils_deleteTableRow",(function(){return d}));var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;","\n":"<br>","\t":"&nbsp;&nbsp;&nbsp;&nbsp;"," ":"&nbsp;"};function l(e){return String(e).replace(/[&<>"'\/\t\n ]/g,(function(e){return o[e]}))}function d(e,t){document.getElementById(e).deleteRow(t)}function s(e){var t=e||"Add",n=document.createElement("div");n.setAttribute("class","add-field");var a=document.createElement("i");a.setAttribute("class","form-add-icon ebIcon ebIcon_add");var r=document.createElement("span");return r.setAttribute("class","form-add-text"),r.innerHTML=t,n.appendChild(a),n.appendChild(r),n}function u(e){e=e||"html, body",$(e).animate({scrollTop:0},"fast")}},function(e,t,n){"use strict";n.r(t),n.d(t,"ajax_get",(function(){return o})),n.d(t,"ajax_delete",(function(){return c})),n.d(t,"ajax_post",(function(){return u})),n.d(t,"ajax_put",(function(){return s})),n.d(t,"ajax_getOKOrFail",(function(){return d})),n.d(t,"ajax_getWithKeyInfo",(function(){return l}));const{pageControl_restError:a,pageControl_status:r,pageControl_successStatus:i}=n(11);function o(e,t){$.ajax({type:"GET",url:e,dataType:"json",success:function(e,n,a){i(e),t(e)},error:function(t,n,r){a(e,t,n,r)}})}function l(e,t,n,a){let r=a||"key";o(window.restRootURL+"/KeyInformation/Get?name=&version=",(function(a){o(e,(function(e){for(var i=[],o=0;o<a.messages.message.length;o++){var l=JSON.parse(a.messages.message[o]).apexKeyInfo;i.push(l)}var d=JSON.parse(e.messages.message[0])[t],s=i.filter((function(e){return e.key.name===d[r].name&&e.key.version===d[r].version}));s.length>0&&(d.uuid=s[0].UUID,d.description=s[0].description),n(d)}))}))}function d(e,t){$.ajax({type:"GET",url:e,dataType:"json",success:function(e,n,a){r(e),t(e)},error:function(t,n,r){a(e,t,n,r)}})}function s(e,t,n){$.ajax({type:"PUT",contentType:"application/json",url:e,dataType:"json",data:t,success:function(e,t,a){i(e),n(e)},error:function(t,n,r){a(e,t,n,r)}})}function u(e,t,n){$.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:t,success:function(e,t,a){i(e),n(e)},error:function(t,n,r){a(e,t,n,r)}})}function c(e,t){$.ajax({type:"DELETE",url:e,dataType:"json",success:function(e,n,a){i(e),t(e)},error:function(t,n,r){a(e,t,n,r)}})}},function(e,t,n){"use strict";function a(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}function r(e,t,n){return e||(e="null"),t||(t="null"),n||(n="null"),'Generated description for a concept called "'+e+'" with version "'+t+'" and UUID "'+n+'"'}n.r(t),n.d(t,"formUtils_generateDescription",(function(){return r})),n.d(t,"formUtils_generateUUID",(function(){return a}))},function(e,t,n){"use strict";function a(e,t,n){return function(a){i(e,t,n)}}function r(e,t){return function(n){d(e,t)}}function i(e,t,n){document.getElementById(e+"_display").innerHTML=t.displaytext,document.getElementById(e).selectedOption=t,l(e),n&&n(t)}function o(e,t,n,a,r){if(document.getElementById(e+"_options").classList.contains("dropdownList_show"))document.getElementById(e+"_options").classList.remove("dropdownList_show","dropdownList_display_clicked");else{if(null!=r){var i=r();u(document.getElementById(e),i,n,a,r)}document.getElementById(e+"_options").classList.add("dropdownList_show","dropdownList_display_clicked")}}function l(e){document.getElementById(e+"_options").classList.remove("dropdownList_show")}function d(e,t){for(var n,a=document.getElementById(e+"_search").value.toUpperCase(),r=(n=document.getElementById(e+"_options_list_ul")).querySelectorAll("#"+n.id+" > li"),i=0;i<r.length;i++)r[i].innerHTML.toUpperCase().indexOf(a)>-1?r[i].style.display="":r[i].style.display="none"}function s(e,t,n,a,r,i){var o=document.createElement("div"),l=e+"_dropdownList";return o.setAttribute("id",l),o.setAttribute("class","dropdownList"),o._isDropDownList=!0,o._dropDownList_listener=r,u(o,t,n,a,i)}function u(e,t,n,i,l){var d=e,s=d.getAttribute("id");if(!d._isDropDownList)return console.error("Cannot provision dropdown list "+s+" DIV because it is not a dropdown list"),null;if(null==t&&null==l)return console.error("Cannot provision dropdown list "+s+" DIV because it has no options and no function to get options"),null;i&&!n&&console.warn("Provisioning dropdown list "+s+" that is disabled, but there is no value selected!");for(var u=d.querySelectorAll("#"+s+" > div, button"),c=0;c<u.length;c++)d.removeChild(u[c]);var m=null;d._dropDownList_listener&&(m=d._dropDownList_listener);var p=document.createElement("div");d.appendChild(p),p.setAttribute("id",s+"_display"),d.selectedOption=null;var b=document.createElement("button");b.setAttribute("class","ebCombobox-helper");var v=document.createElement("span");v.setAttribute("class","ebCombobox-iconHolder");var h=document.createElement("i"),f="ebIcon ebIcon_small ebIcon_downArrow_10px eb_noVertAlign";if(i&&(f+=" ebIcon_disabled"),h.setAttribute("class",f),v.appendChild(h),b.appendChild(v),d.appendChild(b),i)p.setAttribute("class","dropdownList_display_disabled ebInput_width_xLong");else{p.setAttribute("class","dropdownList_display ebInput_width_xLong");var y=function(e){o(s,0,n,i,l)};p.onclick=y,b.onclick=y}var E=document.createElement("div");d.appendChild(E),E.setAttribute("id",s+"_options"),E.setAttribute("class","dropdownList_options");var A=document.createElement("input");E.appendChild(A),A.setAttribute("id",s+"_search"),A.setAttribute("type","input"),A.setAttribute("placeholder","Search.."),A.setAttribute("class","ebInput ebInput_width_full"),A.onkeyup=r(s,s+"_options_list");var C=document.createElement("ul");if(C.setAttribute("class","dropdownList_options_body"),A.setAttribute("id",s+"_search"),E.appendChild(C),C.setAttribute("id",s+"_options_list_ul"),t)for(var x=0;x<t.length;x++){var g=document.createElement("li");C.appendChild(g),g.onclick=a(s,t[x],m),g.innerHTML=t[x].displaytext,n&&n.displaytext&&n.displaytext==t[x].displaytext&&(d.selectedOption=t[x])}else null!=l&&null!=n&&(d.selectedOption=n);return null!=d.selectedOption?(p.innerHTML=d.selectedOption.displaytext,p.title=p.innerHTML):null!=d.selectedOption||i?null==d.selectedOption&&i&&(p.innerHTML="No Option Selected"):p.innerHTML="Select an Option",d}n.r(t),n.d(t,"dropdownList",(function(){return s})),n.d(t,"dropdownList_ChangeOptions",(function(){return u})),n.d(t,"dropdownList_display_click",(function(){return o})),n.d(t,"dropdownList_display_hide",(function(){return l})),n.d(t,"dropdownList_filter",(function(){return d})),n.d(t,"dropdownList_filter_scopePreserver",(function(){return r})),n.d(t,"dropdownList_option_select",(function(){return i})),n.d(t,"dropdownList_option_select_scopePreserver",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return o}));var a=n(1),r=n(0),i=n(6);function o(){d(),l()}function l(){!function(){var e=document.getElementById("keyInformationTab");if(null!=(t=document.getElementById("keyInformationTabContent")))return;var t=document.createElement("keyInformationTabContent");e.appendChild(t),t.setAttribute("id","keyInformationTabContent");var n=Object(i.createTable)("keyInformationTable");n.oncontextmenu=new Function("return false;"),t.appendChild(n);var a=document.createElement("thead");n.appendChild(a),a.setAttribute("id","keyInformationTableHeader");var r=document.createElement("tr");a.appendChild(r),r.setAttribute("id","keyInformationTableHeaderRow");var o=document.createElement("th");r.appendChild(o),o.setAttribute("id","keyInformationTableKeyHeader"),o.appendChild(document.createTextNode("Key Information"));var l=document.createElement("th");r.appendChild(l),l.setAttribute("id","keyInformationTableUUIDHeader"),l.appendChild(document.createTextNode("UUID"));var d=document.createElement("th");r.appendChild(d),d.setAttribute("id","keyInformationTableDescriptionHeader"),d.appendChild(document.createTextNode("Description"));var s=document.createElement("tbody");n.appendChild(s),n.setAttribute("id","keyInformationTableBody")}();var e=window.restRootURL+"/KeyInformation/Get?name=&version=";Object(a.ajax_get)(e,(function(e){$("#keyInformationTableBody").find("tr:gt(0)").remove();for(var t=0;t<e.messages.message.length;t++){var n=JSON.parse(e.messages.message[t]).apexKeyInfo,a=document.createElement("tr"),i="<td>"+n.key.name+":"+n.key.version+"</td><td><uuid>"+Object(r.apexUtils_escapeHtml)(n.UUID)+"</uuid></td><td><desc>"+Object(r.apexUtils_escapeHtml)(n.description)+"</desc></td>";a.innerHTML=i,$("#keyInformationTableBody").append(a)}}))}function d(){Object(r.apexUtils_removeElement)("keyInformationTabContent")}},function(e,t,n){"use strict";n.r(t),n.d(t,"rightClickMenu_scopePreserver",(function(){return pe}));var a=n(0),r=n(1),o=n(2),l=n(7);function d(e,t,n){Object(a.apexUtils_removeElement)("editContextSchemaFormDiv");var r=document.getElementById(e);null===r&&(r=document.createElement("formParentTest")),Object(a.apexUtils_emptyElement)(e);var i="";t?i=t.toUpperCase():console.warn("No operation specified for ContextSchemaForm form"),"CREATE"==i||("EDIT"==i||"VIEW"==i?("EDIT"==i&&!0,n?(n.key&&n.key.name&&""!=n.key.name||console.warn('Invalid value ("'+n.key.name+'") passed as a value for "name" for ContextSchemaForm form.'),n.key&&n.key.version&&""!=n.key.version||console.warn('Invalid value ("'+n.key.version+'") passed as a value for "version" for ContextSchemaForm form.'),n.uuid&&""!=n.uuid||console.warn('Invalid value ("'+n.uuid+'") passed as a value for "uuid" for ContextSchemaForm form.'),"VIEW"==i&&(n.description||console.warn('Invalid value ("'+n.description+'") passed as a value for "description" for ContextSchemaForm form.'),n.schemaFlavour&&""!=n.schemaFlavour||console.warn('Invalid value ("'+n.schemaFlavour+'") passed as a value for "schemaFlavour" for ContextSchemaForm form.'),n.schemaDefinition&&""!=n.schemaDefinition||console.warn('Invalid value ("'+n.schemaDefinition+'") passed as a value for "schemaDefinition" for ContextSchemaForm form.'))):console.warn('Invalid value ("'+n+'") passed as a value for "contextSchema" for ContextSchemaForm form.')):console.warn('Invalid operation ("'+t+'") specified for ContextSchemaForm form. Only "Create", "Edit" and "View" operations are supported'));var o=document.createElement("editContextSchemaFormDiv"),l=document.createElement("div");o.appendChild(l),l.setAttribute("id","editContextSchemaFormDiv"),l.setAttribute("class","editContextSchemaFormDiv");var d=document.createElement("h2");d.innerHTML="Context Item Schema Editor",l.appendChild(d);var p=document.createElement("editContextSchemaForm");l.appendChild(p),p.setAttribute("id","editContextSchemaForm"),p.setAttribute("class","form-style-1"),p.setAttribute("method","post"),p.setAttribute("createEditOrView",i);var b=document.createElement("ul");p.appendChild(b);var v=document.createElement("li");b.appendChild(v);var h=document.createElement("label");v.appendChild(h),h.setAttribute("for","editContextSchemaFormNameInput"),h.innerHTML="Name: ";var f=document.createElement("span");h.appendChild(f),f.setAttribute("class","required"),f.innerHTML="*";var y=document.createElement("input");v.appendChild(y),y.setAttribute("id","editContextSchemaFormNameInput"),y.setAttribute("type","text"),y.setAttribute("name","editContextSchemaFormameInput"),y.setAttribute("class","field ebInput"),y.setAttribute("placeholder","name"),n&&n.key&&n.key.name&&(y.value=n.key.name),"CREATE"!=i&&(y.readOnly=!0);var E=document.createElement("li");b.appendChild(E);var A=document.createElement("label");E.appendChild(A),A.setAttribute("for","editContextSchemaFormVersionInput"),A.innerHTML="Version: ";var C=document.createElement("input");E.appendChild(C),C.setAttribute("id","editContextSchemaFormVersionInput"),C.setAttribute("type","text"),C.setAttribute("name","editContextSchemaFormVersionInput"),C.setAttribute("class","field ebInput"),C.setAttribute("placeholder","0.0.1"),n&&n.key&&n.key.version&&(C.value=n.key.version),"CREATE"!=i&&(C.readOnly=!0);var x=document.createElement("li");b.appendChild(x);var g=document.createElement("label");x.appendChild(g),g.setAttribute("for","editContextSchemaFormUuidInput"),g.innerHTML="UUID: ";var T=document.createElement("input");x.appendChild(T),T.setAttribute("id","editContextSchemaFormUuidInput"),T.setAttribute("type","text"),T.setAttribute("name","editContextSchemaFormUuidInput"),T.setAttribute("class","field-long ebInput ebInput_width_full"),T.setAttribute("placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"),n&&n.uuid&&(T.value=n.uuid),"CREATE"!=i&&(T.readOnly=!0);var I=document.createElement("li");b.appendChild(I);var k=document.createElement("label");I.appendChild(k),k.setAttribute("for","editContextSchemaFormDescriptionTextArea"),k.innerHTML="Description: ";var _=document.createElement("textarea");I.appendChild(_),_.setAttribute("id","editContextSchemaFormDescriptionTextArea"),_.setAttribute("name","editContextSchemaFormDescriptionTextArea"),_.setAttribute("class","field-long field-textarea ebTextArea ebTextArea_width_full"),n&&n.description&&(_.value=n.description),"CREATE"!=i&&"EDIT"!=i&&(_.readOnly=!0);var F=document.createElement("li");b.appendChild(F);var w=document.createElement("label");F.appendChild(w),w.setAttribute("for","editContextSchemaFormSchemaFlavourInput"),w.innerHTML="Schema Flavour: ";var O=document.createElement("input");F.appendChild(O),O.setAttribute("id","editContextSchemaFormSchemaFlavourInput"),O.setAttribute("type","text"),O.setAttribute("name","editContextSchemaFormSchemaFlavourInput"),O.setAttribute("class","field-long ebInput ebInput_width_full"),O.setAttribute("placeholder","Java"),n&&n.schemaFlavour&&(O.value=n.schemaFlavour),"CREATE"!=i&&"EDIT"!=i&&(O.readOnly=!0);var L=document.createElement("li");b.appendChild(L);var S=document.createElement("label");L.appendChild(S),S.setAttribute("for","editContextSchemaFormSchemaDefinitionInput"),S.innerHTML="Schema Definition: ";var M=document.createElement("textarea");L.appendChild(M),M.setAttribute("id","editContextSchemaFormSchemaDefinitionInput"),M.setAttribute("type","text"),M.setAttribute("name","editContextSchemaFormSchemaDefinitionInput"),M.setAttribute("class","field-long field-textarea ebTextArea ebTextArea_width_full"),M.setAttribute("placeholder","java.lang.String"),n&&n.schemaDefinition&&(M.value=n.schemaDefinition),"CREATE"!=i&&"EDIT"!=i&&(M.readOnly=!0);var U=document.createElement("li");if(b.appendChild(U),"CREATE"==i){var D=document.createElement("button");U.appendChild(D),D.setAttribute("id","generateUUID"),D.setAttribute("class","ebBtn ebBtn_large"),D.setAttribute("type","submit"),D.setAttribute("value","Generate UUID"),D.onclick=s,D.innerHTML=D.getAttribute("value");var N=document.createElement("span");U.appendChild(N),N.setAttribute("class","required"),N.innerHTML=" "}if("CREATE"==i){var j=document.createElement("button");U.appendChild(j),j.setAttribute("id","generateDescription"),j.setAttribute("class","ebBtn ebBtn_large"),j.setAttribute("type","submit"),j.setAttribute("value","Generate Description"),j.onclick=u,j.innerHTML=j.getAttribute("value");var R=document.createElement("span");U.appendChild(R),R.setAttribute("class","required"),R.innerHTML=" "}var B=document.createElement("button");if(U.appendChild(B),B.setAttribute("id","cancel"),B.setAttribute("class","ebBtn ebBtn_large"),B.setAttribute("type","submit"),B.setAttribute("value","Cancel"),B.onclick=c,B.innerHTML=B.getAttribute("value"),"CREATE"==i||"EDIT"==i){var P=document.createElement("span");U.appendChild(P),P.setAttribute("class","required"),P.innerHTML=" ";var H=document.createElement("button");U.appendChild(H),H.setAttribute("id","submit"),H.setAttribute("class","ebBtn ebBtn_large"),H.setAttribute("type","submit"),H.setAttribute("value","Submit"),H.onclick=m,H.innerHTML=H.getAttribute("value")}r.appendChild(o),Object(a.scrollToTop)()}function s(){document.getElementById("editContextSchemaFormUuidInput").value=Object(o.formUtils_generateUUID)()}function u(){document.getElementById("editContextSchemaFormDescriptionTextArea").value=Object(o.formUtils_generateDescription)(document.getElementById("editContextSchemaFormNameInput").value,document.getElementById("editContextSchemaFormVersionInput").value,document.getElementById("editContextSchemaFormUuidInput").value)}function c(){Object(a.apexUtils_removeElement)("editContextSchemaFormDiv"),Object(l.c)()}function m(){var e=$("#editContextSchemaForm").attr("createEditOrView");if(!e||""==e||"CREATE"!=e&&"EDIT"!=e)return console.error('Invalid operation "'+e+'" passed to editContextSchemaForm_submitPressed function. Edit failed'),Object(a.apexUtils_removeElement)("editContextSchemaFormDiv"),void Object(l.c)();var t=$("#editContextSchemaFormNameInput").val(),n=$("#editContextSchemaFormVersionInput").val(),i=JSON.stringify({name:t,version:n,uuid:$("#editContextSchemaFormUuidInput").val(),description:$("#editContextSchemaFormDescriptionTextArea").val(),schemaFlavour:$("#editContextSchemaFormSchemaFlavourInput").val(),schemaDefinition:$("#editContextSchemaFormSchemaDefinitionInput").val()});if("CREATE"==e){var o=window.restRootURL+"/ContextSchema/Create";Object(r.ajax_post)(o,i,(function(e){Object(a.apexUtils_removeElement)("editContextSchemaFormDiv"),Object(l.c)(),keyInformationTab_reset()}))}else if("EDIT"==e){o=window.restRootURL+"/ContextSchema/Update";Object(r.ajax_put)(o,i,(function(e){Object(a.apexUtils_removeElement)("editContextSchemaFormDiv"),Object(l.c)(),keyInformationTab_reset()}))}}var p=n(3),b=n(8),v=n(4);function h(e,t,n,a){var i=window.restRootURL+"/Event/Get?name="+t+"&version="+n;Object(r.ajax_getWithKeyInfo)(i,"apexEvent",(function(t){var n=window.restRootURL+"/ContextSchema/Get?name=&version=",i=new Array;Object(r.ajax_get)(n,(function(n){for(var r=0;r<n.messages.message.length;r++){var o=JSON.parse(n.messages.message[r]).apexContextSchema;i.push({name:o.key.name,version:o.key.version,displaytext:o.key.name+":"+o.key.version,contextSchema:o})}f(e,a,t,i)}))}))}function f(e,t,n,r){Object(a.apexUtils_removeElement)("editEventFormDiv");var i=document.getElementById(e);null===i&&(i=document.createElement("testFormParent")),Object(a.apexUtils_emptyElement)(e);var o="";t?o=t.toUpperCase():console.warn("No operation specified for EventForm form"),"CREATE"==o||("EDIT"==o||"VIEW"==o?("EDIT"==o&&!0,n?(n.key&&n.key.name&&""!=n.key.name||console.warn('Invalid value ("'+n.key.name+'") passed as a value for "name" for EventForm form.'),n.key&&n.key.version&&""!=n.key.version||console.warn('Invalid value ("'+n.key.version+'") passed as a value for "version" for EventForm form.'),n.uuid&&""!=n.uuid||console.warn('Invalid value ("'+n.uuid+'") passed as a value for "uuid" for EventForm form.')):console.warn('Invalid value ("'+n+'") passed as a value for "event" for EventForm form.')):console.warn('Invalid operation ("'+t+'") specified for EventForm form. Only "Create", "Edit" and "View" operations are supported'));var l=document.createElement("editEventFormDiv"),d=document.createElement("div");l.appendChild(d),d.setAttribute("id","editEventFormDiv"),d.setAttribute("class","editEventFormDiv");var s=document.createElement("h2");d.appendChild(s),s.innerHTML="Event Editor";var u=document.createElement("editEventForm");d.appendChild(u),u.setAttribute("id","editEventForm"),u.setAttribute("class","form-style-1"),u.setAttribute("method","post"),u.setAttribute("createEditOrView",o);var c=document.createElement("ul");u.appendChild(c);var m=document.createElement("li");c.appendChild(m);var p=document.createElement("label");m.appendChild(p),p.setAttribute("for","editEventFormNameInput"),p.innerHTML="Name: ";var b=document.createElement("span");p.appendChild(b),b.setAttribute("class","required"),b.innerHTML="*";var v=document.createElement("input");m.appendChild(v),v.setAttribute("id","editEventFormNameInput"),v.setAttribute("type","text"),v.setAttribute("name","editEventFormNameInput"),v.setAttribute("class","field ebInput"),v.setAttribute("placeholder","name"),n&&n.key&&n.key.name&&(v.value=n.key.name),"CREATE"!=o&&(v.readOnly=!0);var h=document.createElement("li");c.appendChild(h);var f=document.createElement("label");h.appendChild(f),f.setAttribute("for","editEventFormVersionInput"),f.innerHTML="Version: ";var g=document.createElement("input");h.appendChild(g),g.setAttribute("id","editEventFormVersionInput"),g.setAttribute("type","text"),g.setAttribute("name","editEventFormVersionInput"),g.setAttribute("class","field ebInput"),g.setAttribute("placeholder","0.0.1"),n&&n.key&&n.key.version&&(g.value=n.key.version),"CREATE"!=o&&(g.readOnly=!0);var T=document.createElement("li");c.appendChild(T);var I=document.createElement("label");T.appendChild(I),I.setAttribute("for","editEventFormUuidInput"),I.innerHTML="UUID: ";var k=document.createElement("input");T.appendChild(k),k.setAttribute("id","editEventFormUuidInput"),k.setAttribute("type","text"),k.setAttribute("name","editEventFormUuidInput"),k.setAttribute("class","field-long ebInput ebInput_width_full"),k.setAttribute("placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"),n&&n.uuid&&(k.value=n.uuid),"CREATE"!=o&&(k.readOnly=!0);var _=document.createElement("li");c.appendChild(_);var F=document.createElement("label");_.appendChild(F),F.setAttribute("for","editEventFormDescriptionTextArea"),F.innerHTML="Description: ";var w=document.createElement("textarea");_.appendChild(w),w.setAttribute("id","editEventFormDescriptionTextArea"),w.setAttribute("name","editEventFormDescriptionTextArea"),w.setAttribute("class","field-long field-textarea ebTextArea ebTextArea_width_full"),n&&n.description&&(w.value=n.description),"CREATE"!=o&&"EDIT"!=o&&(w.readOnly=!0);var O=document.createElement("li");c.appendChild(O);var L=document.createElement("label");O.appendChild(L),L.setAttribute("for","editEventFormNamespaceInput"),L.innerHTML="Namespace: ";var S=document.createElement("input");O.appendChild(S),S.setAttribute("id","editEventFormNamespaceInput"),S.setAttribute("type","text"),S.setAttribute("name","editEventFormNamespaceInput"),S.setAttribute("class","field-namespace ebInput  ebInput ebInput_width_full"),S.setAttribute("placeholder",""),n&&n.nameSpace&&(S.value=n.nameSpace),"CREATE"!=o&&"EDIT"!=o&&(S.readOnly=!0);var M=document.createElement("li");c.appendChild(M);var U=document.createElement("label");M.appendChild(U),U.setAttribute("for","editEventFormSourceInput"),U.innerHTML="Source: ";var D=document.createElement("input");M.appendChild(D),D.setAttribute("id","editEventFormSourceInput"),D.setAttribute("type","text"),D.setAttribute("name","editEventFormSourceInput"),D.setAttribute("class","field-source ebInput"),D.setAttribute("placeholder",""),n&&n.source&&(D.value=n.source),"CREATE"!=o&&"EDIT"!=o&&(D.readOnly=!0);var N=document.createElement("li");c.appendChild(N);var j=document.createElement("label");N.appendChild(j),j.setAttribute("for","editEventFormTargetInput"),j.innerHTML="Target: ";var R=document.createElement("input");N.appendChild(R),R.setAttribute("id","editEventFormTargetInput"),R.setAttribute("type","text"),R.setAttribute("name","editEventFormTargetInput"),R.setAttribute("class","field-target ebInput"),R.setAttribute("placeholder",""),n&&n.target&&(R.value=n.target),"CREATE"!=o&&"EDIT"!=o&&(R.readOnly=!0);var B=document.createElement("li");c.appendChild(B);var P=document.createElement("label");B.appendChild(P),P.setAttribute("for","editEventFormParametersTable"),P.innerHTML="Event Parameters: ";var H=document.createElement("table");H.setAttribute("id","editEventFormParametersTable"),H.setAttribute("name","editEventFormParametersTable"),H.setAttribute("class","table-eventparam"),B.appendChild(H);var $=document.createElement("thead");H.appendChild($);var V=document.createElement("tr");$.appendChild(V),V.appendChild(document.createElement("th"));var K=document.createElement("th");V.appendChild(K),K.innerHTML="Parameter Name: ",K.setAttribute("class","table-eventparam-heading form-heading"),K=document.createElement("th"),V.appendChild(K),K.innerHTML="Parameter Type/Schema: ",K.setAttribute("class","table-eventparam-heading form-heading"),K=document.createElement("th"),V.appendChild(K),K.innerHTML="Optional: ",K.setAttribute("class","table-eventparam-heading form-heading");var G=document.createElement("tbody");if(H.appendChild(G),n&&n.parameter&&n.parameter.entry)for(var W=0;W<n.parameter.entry.length;W++){var q=n.parameter.entry[W],J=q.value.fieldSchemaKey,z=q.value.optional;J.displaytext=J.name+":"+J.version,y(G,"VIEW"==o,q.key,z,J,r)}if("CREATE"==o||"EDIT"==o){var X=document.createElement("tr");X.setAttribute("class","field-eventparam-tr.new"),G.appendChild(X);var Y=document.createElement("td");Y.setAttribute("colspan","4"),X.appendChild(Y);var Q=Object(a.createAddFormButton)();Y.appendChild(Q),Q.onclick=function(){y(G,!1,null,!1,null,r)}}var Z=document.createElement("li");if(c.appendChild(Z),"CREATE"==o){var ee=document.createElement("button");Z.appendChild(ee),ee.setAttribute("id","generateUUID"),ee.setAttribute("class","ebBtn ebBtn_large"),ee.setAttribute("type","submit"),ee.setAttribute("value","Generate UUID"),ee.onclick=E,ee.innerHTML=ee.getAttribute("value");var te=document.createElement("span");Z.appendChild(te),te.setAttribute("class","required"),te.innerHTML=" "}if("CREATE"==o){var ne=document.createElement("button");Z.appendChild(ne),ne.setAttribute("id","generateDescription"),ne.setAttribute("class","ebBtn ebBtn_large"),ne.setAttribute("type","submit"),ne.setAttribute("value","Generate Description"),ne.onclick=A,ne.innerHTML=ne.getAttribute("value");var ae=document.createElement("span");Z.appendChild(ae),ae.setAttribute("class","required"),ae.innerHTML=" "}var re=document.createElement("button");if(Z.appendChild(re),re.setAttribute("id","cancel"),re.setAttribute("class","ebBtn ebBtn_large"),re.setAttribute("type","submit"),re.setAttribute("value","Cancel"),re.onclick=C,re.innerHTML=re.getAttribute("value"),"CREATE"==o||"EDIT"==o){var ie=document.createElement("span");Z.appendChild(ie),ie.setAttribute("class","required"),ie.innerHTML=" ";var oe=document.createElement("button");Z.appendChild(oe),oe.setAttribute("id","submit"),oe.setAttribute("class","ebBtn ebBtn_large"),oe.setAttribute("type","submit"),oe.setAttribute("value","Submit"),oe.onclick=x,oe.innerHTML=oe.getAttribute("value")}i.appendChild(l),Object(a.scrollToTop)()}function y(e,t,n,a,r,i){var l=Object(o.formUtils_generateUUID)(),d=e.insertRow(e.rows.length-1);d.setAttribute("param_id",l),d.setAttribute("class","field-eventparam-tr"),null!=n||null!=r||t||(d.setAttribute("class","field-eventparam-tr.new field-add-new"),$(d).show("fast"));var s=document.createElement("td");d.appendChild(s);var u=document.createElement("div");s.appendChild(u),t?u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),u.onclick=function(e){$(d).hide("fast",(function(){d.parentNode.removeChild(d)}))});var c=document.createElement("td");d.appendChild(c);var m=document.createElement("input");c.appendChild(m),m.setAttribute("id","editEventFormParamName_"+l),m.setAttribute("type","text"),m.setAttribute("name","editEventFormParamName_"+l),m.setAttribute("class","field-eventparam-name  ebInput ebInput_width_xLong"),null!=n||null!=r||t||m.setAttribute("class","field-eventparam-name.new  ebInput ebInput_width_xLong"),m.setAttribute("placeholder","Parameter Name"),n&&(m.value=n),m.readOnly=t;var b=document.createElement("td");d.appendChild(b);var v=Object(p.dropdownList)("editEventFormParamContextSchema_"+l,i,r,t,null);b.appendChild(v);var h=document.createElement("td");h.setAttribute("class","field-checkbox-center"),d.appendChild(h);var f=document.createElement("input");f.setAttribute("type","checkbox"),f.setAttribute("id","editEventFormParamOptional_"+l),f.setAttribute("name","editEventFormParamOptional_"+l),f.setAttribute("class","field-eventparam-optional"),null!=n||null!=r||t||f.setAttribute("class","field-eventparam-optional.new"),f.checked=1==a,f.disabled=t,h.appendChild(f)}function E(){document.getElementById("editEventFormUuidInput").value=Object(o.formUtils_generateUUID)()}function A(){document.getElementById("editEventFormDescriptionTextArea").value=Object(o.formUtils_generateDescription)(document.getElementById("editEventFormNameInput").value,document.getElementById("editEventFormVersionInput").value,document.getElementById("editEventFormUuidInput").value)}function C(){Object(a.apexUtils_removeElement)("editEventFormDiv"),Object(b.c)()}function x(){var e=document.getElementById("editEventForm").getAttribute("createEditOrView");if(!e||""==e||"CREATE"!=e&&"EDIT"!=e)return console.error('Invalid operation "'+e+'" passed to editEventForm_submitPressed function. Edit failed'),Object(a.apexUtils_removeElement)("editEventFormDiv"),void Object(b.c)();var t=document.getElementById("editEventFormNameInput").value,n=document.getElementById("editEventFormVersionInput").value,i=null,o=document.getElementById("editEventFormParametersTable").rows;if(o&&o.length>=2){i=new Object;for(var l=1;l<o.length-1;l++){var d=o[l];if(d&&d.getAttribute("param_id")){var s=d.getAttribute("param_id"),u=document.getElementById("editEventFormParamName_"+s).value,c=document.getElementById("editEventFormParamOptional_"+s).checked,m=document.getElementById("editEventFormParamContextSchema_"+s+"_dropdownList").selectedOption;if(i[u])return alert('Event "'+t+'" contains more than one Parameter called "'+u+'"'),!1;if(null==m)return alert('Event "'+t+'" has no selected Context Item Schema for the Parameter called "'+u+'"'),!1;var p=m.name,h=m.version;i[u]={localName:u,name:p,version:h,optional:c}}}}var f={name:t,version:n,uuid:document.getElementById("editEventFormUuidInput").value,description:document.getElementById("editEventFormDescriptionTextArea").value,source:document.getElementById("editEventFormSourceInput").value,target:document.getElementById("editEventFormTargetInput").value,nameSpace:document.getElementById("editEventFormNamespaceInput").value,parameters:i},y=JSON.stringify(f);if("CREATE"==e){var E=window.restRootURL+"/Event/Create";Object(r.ajax_post)(E,y,(function(e){Object(a.apexUtils_removeElement)("editEventFormDiv"),Object(b.c)(),Object(v.c)()}))}else if("EDIT"==e){E=window.restRootURL+"/Event/Update";Object(r.ajax_put)(E,y,(function(e){Object(a.apexUtils_removeElement)("editEventFormDiv"),Object(b.c)(),Object(v.c)()}))}}var g=n(9);function T(e,t,n,a,r,i,o){var l=null==a||a,d=document.createElement("div"),s=e;d.setAttribute("id",s),d.setAttribute("class","showHideTextarea");var u=document.createElement("div");d.appendChild(u),u.setAttribute("id",s+"_showhide"),u.innerHTML='<label class="ebSwitcher"><input type="checkbox" class="ebSwitcher-checkbox" /><div class="ebSwitcher-body"><div class="ebSwitcher-onLabel">Show</div><div class="ebSwitcher-switch"></div><div class="ebSwitcher-offLabel">Hide</div></div></label>';var c=document.createElement("div"),m=document.createElement("textarea");c.appendChild(m),d.appendChild(c),m.setAttribute("id",s+"_textarea"),m.setAttribute("name",s+"_textarea"),m.style.width="100%",m.style.height="400px",m.style.display="none",null!=t&&(m.value=t),l||(m.readOnly=!l,m.style.cursor="text",m.style["border-color"]="#E3E3E3",m.style["background-color"]="#F0F0F0",m.style.color="#B2B2B2");var p=!1;return $(u).find("input:checkbox:first").change((function(e){p?$(c).toggle("fast"):(createEditArea(m.getAttribute("id"),{is_editable:l}),p=!0)})),d}function I(e,t,n,a){var i=window.restRootURL+"/Task/Get?name="+t+"&version="+n;Object(r.ajax_getWithKeyInfo)(i,"apexTask",(function(t){var n=window.restRootURL+"/ContextSchema/Get?name=&version=",i=new Array;Object(r.ajax_get)(n,(function(n){for(var o=0;o<n.messages.message.length;o++){var l=JSON.parse(n.messages.message[o]).apexContextSchema;i.push({name:l.key.name,version:l.key.version,displaytext:l.key.name+":"+l.key.version,contextSchema:l})}var d=window.restRootURL+"/ContextAlbum/Get?name=&version=",s=new Array;Object(r.ajax_get)(d,(function(n){for(var r=0;r<n.messages.message.length;r++){var o=JSON.parse(n.messages.message[r]).apexContextAlbum,l={name:o.key.name,version:o.key.version,displaytext:o.key.name+":"+o.key.version,contextAlbum:o};s.push(l)}k(e,a,t,i,s)}))}))}))}function k(e,t,n,r,i){Object(a.apexUtils_removeElement)("editTaskFormDiv");var o=document.getElementById(e);null===o&&(o=document.createElement("testFormParent")),Object(a.apexUtils_emptyElement)(e);var l="";t?l=t.toUpperCase():console.warn("No operation specified for TaskForm form"),"CREATE"==l||("EDIT"==l||"VIEW"==l?("EDIT"==l&&!0,n?(n.key&&n.key.name&&""!=n.key.name||console.warn('Invalid value ("'+n.key.name+'") passed as a value for "name" for TaskForm form.'),n.key&&n.key.version&&""!=n.key.version||console.warn('Invalid value ("'+n.key.version+'") passed as a value for "version" for TaskForm form.'),n.uuid&&""!=n.uuid||console.warn('Invalid value ("'+n.uuid+'") passed as a value for "uuid" for TaskForm form.')):console.warn('Invalid value ("'+n+'") passed as a value for "task" for TaskForm form.')):console.warn('Invalid operation ("'+t+'") specified for TaskForm form. Only "Create", "Edit" and "View" operations are supported'));var d=document.createElement("editTaskFormDiv"),s=document.createElement("div");d.appendChild(s),s.setAttribute("id","editTaskFormDiv"),s.setAttribute("class","editTaskFormDiv");var u=document.createElement("h2");s.appendChild(u),u.innerHTML="Task Editor";var c=document.createElement("editTaskForm");s.appendChild(c),c.setAttribute("id","editTaskForm"),c.setAttribute("class","form-style-1"),c.setAttribute("method","post"),c.setAttribute("createEditOrView",l);var m=document.createElement("ul");c.appendChild(m);var p=document.createElement("li");m.appendChild(p);var b=document.createElement("label");p.appendChild(b),b.setAttribute("for","editTaskFormNameInput"),b.innerHTML="Name: ";var v=document.createElement("span");b.appendChild(v),v.setAttribute("class","required"),v.innerHTML="*";var h=document.createElement("input");p.appendChild(h),h.setAttribute("id","editTaskFormNameInput"),h.setAttribute("type","text"),h.setAttribute("name","editTaskFormNameInput"),h.setAttribute("class","field ebInput"),h.setAttribute("placeholder","name"),n&&n.key&&n.key.name&&(h.value=n.key.name),"CREATE"!=l&&(h.readOnly=!0);var f=document.createElement("li");m.appendChild(f);var y=document.createElement("label");f.appendChild(y),y.setAttribute("for","editTaskFormVersionInput"),y.innerHTML="Version: ";var E=document.createElement("input");f.appendChild(E),E.setAttribute("id","editTaskFormVersionInput"),E.setAttribute("type","text"),E.setAttribute("name","editTaskFormVersionInput"),E.setAttribute("class","field ebInput"),E.setAttribute("placeholder","0.0.1"),n&&n.key&&n.key.version&&(E.value=n.key.version),"CREATE"!=l&&(E.readOnly=!0);var A=document.createElement("li");m.appendChild(A);var C=document.createElement("label");A.appendChild(C),C.setAttribute("for","editTaskFormUuidInput"),C.innerHTML="UUID: ";var x=document.createElement("input");A.appendChild(x),x.setAttribute("id","editTaskFormUuidInput"),x.setAttribute("type","text"),x.setAttribute("name","editTaskFormUuidInput"),x.setAttribute("class","field-long ebInput ebInput_width_full"),x.setAttribute("placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"),n&&n.uuid&&(x.value=n.uuid),"CREATE"!=l&&(x.readOnly=!0);var g="CREATE"!=l&&"EDIT"!=l,I=document.createElement("li");m.appendChild(I);var k=document.createElement("label");I.appendChild(k),k.setAttribute("for","editTaskFormDescriptionTextArea"),k.innerHTML="Description: ";var D=document.createElement("textarea");I.appendChild(D),D.setAttribute("id","editTaskFormDescriptionTextArea"),D.setAttribute("name","editTaskFormDescriptionTextArea"),D.setAttribute("class","field-long field-textarea ebTextArea ebTextArea_width_full"),n&&n.description&&(D.value=n.description),D.readOnly=g;var N=document.createElement("li");m.appendChild(N);var j=document.createElement("label");N.appendChild(j),j.setAttribute("for","editTaskFormInputFieldsTable"),j.innerHTML="Task Input Fields: ";var R=document.createElement("table");R.setAttribute("id","editTaskFormInputFieldsTable"),R.setAttribute("name","editTaskFormInputFieldsTable"),R.setAttribute("class","table-taskinputfield"),N.appendChild(R);var B=document.createElement("thead");R.appendChild(B);var P=document.createElement("tr");B.appendChild(P),P.appendChild(document.createElement("th"));var H=document.createElement("th");P.appendChild(H),H.innerHTML="Input Field Name: ",H.setAttribute("class","table-taskinputfield-heading form-heading"),H=document.createElement("th"),P.appendChild(H),H.innerHTML="Input Field Type/Schema: ",H.setAttribute("class","table-taskinputfield-heading form-heading"),H=document.createElement("th"),P.appendChild(H),H.innerHTML="Optional: ",H.setAttribute("class","table-eventparam-heading form-heading");var V=document.createElement("tbody");if(R.appendChild(V),n&&n.inputFields&&n.inputFields.entry)for(var K=0;K<n.inputFields.entry.length;K++){var G=n.inputFields.entry[K];(ne=G.value.fieldSchemaKey).displaytext=ne.name+":"+ne.version,_(V,"VIEW"==l,G.key,G.value.optional,ne,r)}if("CREATE"==l||"EDIT"==l){var W=document.createElement("tr");W.setAttribute("class","field-taskinputfield-tr.new"),V.appendChild(W);var q=document.createElement("td");q.setAttribute("colspan","3"),W.appendChild(q);var J=Object(a.createAddFormButton)();q.appendChild(J),J.onclick=function(){_(V,!1,null,!1,null,r)}}var z=document.createElement("li");m.appendChild(z);var X=document.createElement("label");z.appendChild(X),X.setAttribute("for","editTaskFormOutputFieldsTable"),X.innerHTML="Task Output Fields: ";var Y=document.createElement("table");Y.setAttribute("id","editTaskFormOutputFieldsTable"),Y.setAttribute("name","editTaskFormOutputFieldsTable"),Y.setAttribute("class","table-taskoutputfield"),z.appendChild(Y);var Q=document.createElement("thead");Y.appendChild(Q);var Z=document.createElement("tr");Q.appendChild(Z),Z.appendChild(document.createElement("th"));var ee=document.createElement("th");Z.appendChild(ee),ee.innerHTML="Output Field Name: ",ee.setAttribute("class","table-taskoutputfield-heading form-heading"),ee=document.createElement("th"),Z.appendChild(ee),ee.innerHTML="Output Field Type/Schema: ",ee.setAttribute("class","table-taskoutputfield-heading form-heading"),ee=document.createElement("th"),Z.appendChild(ee),ee.innerHTML="Optional: ",ee.setAttribute("class","table-eventparam-heading form-heading");var te=document.createElement("tbody");if(Y.appendChild(te),n&&n.outputFields&&n.outputFields.entry)for(K=0;K<n.outputFields.entry.length;K++){var ne,ae=n.outputFields.entry[K];(ne=ae.value.fieldSchemaKey).displaytext=ne.name+":"+ne.version,F(te,"VIEW"==l,ae.key,ae.value.optional,ne,r)}if("CREATE"==l||"EDIT"==l){var re=document.createElement("tr");re.setAttribute("class","field-taskoutputfield-tr.new"),te.appendChild(re);var ie=document.createElement("td");ie.setAttribute("colspan","3"),re.appendChild(ie);var oe=Object(a.createAddFormButton)();ie.appendChild(oe),oe.onclick=function(){F(te,!1,null,!1,null,r)}}var le=document.createElement("li");m.appendChild(le);var de=document.createElement("label");le.appendChild(de),de.setAttribute("for","editTaskFormTaskLogicTextArea"),de.innerHTML="Task Logic: ";var se=null;n&&n.taskLogic&&n.taskLogic.logic&&(se=n.taskLogic.logic);var ue=T("editTaskFormTaskLogicTextArea",se,0,!g);le.appendChild(ue);var ce=document.createElement("li");m.appendChild(ce);var me=document.createElement("label");ce.appendChild(me),me.setAttribute("for","editTaskFormTaskLogicTypeInput"),me.innerHTML="Task Logic Type / Flavour: ";var pe=document.createElement("input");ce.appendChild(pe),pe.setAttribute("id","editTaskFormTaskLogicTypeInput"),pe.setAttribute("type","text"),pe.setAttribute("name","editTaskFormTaskLogicTypeInput"),pe.setAttribute("class","field-taskLogicType ebInput"),pe.setAttribute("placeholder","MVEL"),n&&n.taskLogic&&n.taskLogic.logicFlavour&&(pe.value=n.taskLogic.logicFlavour),"CREATE"!=l&&"EDIT"!=l&&(pe.readOnly=!0);var be=document.createElement("li");m.appendChild(be);var ve=document.createElement("label");be.appendChild(ve),ve.setAttribute("for","editTaskFormParamsTable"),ve.innerHTML="Task Parameters: ";var he=document.createElement("table");he.setAttribute("id","editTaskFormParamsTable"),he.setAttribute("name","editTaskFormParamsTable"),he.setAttribute("class","table-taskparam"),be.appendChild(he);var fe=document.createElement("thead");he.appendChild(fe);var ye=document.createElement("tr");fe.appendChild(ye),ye.appendChild(document.createElement("th"));var Ee=document.createElement("th");ye.appendChild(Ee),Ee.innerHTML="Task Parameter Name: ",Ee.setAttribute("class","table-taskparam-heading form-heading"),Ee=document.createElement("th"),ye.appendChild(Ee),Ee.innerHTML="Task Parameter Value: ",Ee.setAttribute("class","table-taskparam-heading form-heading");var Ae=document.createElement("tbody");if(he.appendChild(Ae),n&&n.taskParameters&&n.taskParameters.entry)for(K=0;K<n.taskParameters.entry.length;K++){var Ce=n.taskParameters.entry[K],xe=Ce.key,ge=Ce.value.defaultValue;w(Ae,"VIEW"==l,xe,ge)}if("CREATE"==l||"EDIT"==l){var Te=document.createElement("tr");Te.setAttribute("class","field-taskparam-tr.new"),Ae.appendChild(Te);var Ie=document.createElement("td");Ie.setAttribute("colspan","3"),Te.appendChild(Ie);var ke=Object(a.createAddFormButton)();Ie.appendChild(ke),ke.onclick=function(){w(Ae,!1,null,null)}}var _e=document.createElement("li");m.appendChild(_e);var Fe=document.createElement("label");_e.appendChild(Fe),Fe.setAttribute("for","editTaskFormContextsTable"),Fe.innerHTML="Context Albums used in Task Logic: ";var we=document.createElement("table");we.setAttribute("id","editTaskFormContextsTable"),we.setAttribute("name","editTaskFormContextsTable"),we.setAttribute("class","table-taskcontext"),_e.appendChild(we);var Oe=document.createElement("thead");we.appendChild(Oe);var Le=document.createElement("tr");Oe.appendChild(Le),Le.appendChild(document.createElement("th"));var Se=document.createElement("th");Le.appendChild(Se),Se.innerHTML="Context Album: ",Se.setAttribute("class","table-taskcontext-heading form-heading");var Me=document.createElement("tbody");if(we.appendChild(Me),n&&n.contextAlbumReference&&$.isArray(n.contextAlbumReference))for(K=0;K<n.contextAlbumReference.length;K++){var Ue=n.contextAlbumReference[K],De=Ue.name+":"+Ue.version,Ne={name:Ue.name,version:Ue.version,displaytext:De};O(Me,"VIEW"==l,De,Ne,i)}if("CREATE"==l||"EDIT"==l){var je=document.createElement("tr");je.setAttribute("class","field-taskcontext-tr.new"),Me.appendChild(je);var Re=document.createElement("td");Re.setAttribute("colspan","2"),je.appendChild(Re);var Be=Object(a.createAddFormButton)();Re.appendChild(Be),Be.onclick=function(){O(Me,!1,null,null,i)}}var Pe=document.createElement("li");if(m.appendChild(Pe),"CREATE"==l){var He=document.createElement("button");Pe.appendChild(He),He.setAttribute("id","generateUUID"),He.setAttribute("class","ebBtn ebBtn_large"),He.setAttribute("type","submit"),He.setAttribute("value","Generate UUID"),He.onclick=L,He.innerHTML=He.getAttribute("value");var $e=document.createElement("span");Pe.appendChild($e),$e.setAttribute("class","required"),$e.innerHTML=" ";var Ve=document.createElement("button");Pe.appendChild(Ve),Ve.setAttribute("id","generateDescription"),Ve.setAttribute("class","ebBtn ebBtn_large"),Ve.setAttribute("type","submit"),Ve.setAttribute("value","Generate Description"),Ve.onclick=S,Ve.innerHTML=Ve.getAttribute("value");var Ke=document.createElement("span");Pe.appendChild(Ke),Ke.setAttribute("class","required"),Ke.innerHTML=" "}var Ge=document.createElement("button");if(Pe.appendChild(Ge),Ge.setAttribute("id","cancel"),Ge.setAttribute("class","ebBtn ebBtn_large"),Ge.setAttribute("type","submit"),Ge.setAttribute("value","Cancel"),Ge.onclick=M,Ge.innerHTML=Ge.getAttribute("value"),"CREATE"==l||"EDIT"==l){var We=document.createElement("span");Pe.appendChild(We),We.setAttribute("class","required"),We.innerHTML=" ";var qe=document.createElement("button");Pe.appendChild(qe),qe.setAttribute("id","submit"),qe.setAttribute("class","ebBtn ebBtn_large"),qe.setAttribute("type","submit"),qe.setAttribute("value","Submit"),qe.onclick=U,qe.innerHTML=qe.getAttribute("value")}o.appendChild(d),Object(a.scrollToTop)()}function _(e,t,n,a,r,i){var l=Object(o.formUtils_generateUUID)(),d=e.insertRow(e.rows.length-1);d.setAttribute("inputfield_id",l),d.setAttribute("class","field-taskinputfield-tr"),null!=n||null!=r||t||(d.setAttribute("class","field-taskinputfield-tr.new field-add-new"),$(d).show("fast"));var s=document.createElement("td");d.appendChild(s);var u=document.createElement("div");s.appendChild(u),t?u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),u.onclick=function(e){$(d).hide("fast",(function(){d.parentNode.removeChild(d)}))});var c=document.createElement("td");d.appendChild(c);var m=document.createElement("input");c.appendChild(m),m.setAttribute("id","editTaskFormInputFieldName_"+l),m.setAttribute("type","text"),m.setAttribute("name","editTaskFormInputFieldName_"+l),m.setAttribute("class","field-taskinputfield-name ebInput ebInput_width_xLong"),null!=n||null!=r||t||m.setAttribute("class","field-taskinputfield-name.new ebInput ebInput_width_xLong"),m.setAttribute("placeholder","Input Field Name"),n&&(m.value=n),m.readOnly=t;var b=document.createElement("td");d.appendChild(b);var v=Object(p.dropdownList)("editTaskFormInputFieldContextSchema_"+l,i,r,t,null);b.appendChild(v);var h=document.createElement("td");h.setAttribute("class","field-checkbox-center"),d.appendChild(h);var f=document.createElement("input");f.setAttribute("type","checkbox"),f.setAttribute("id","editTaskFormInputFieldOptional_"+l),f.setAttribute("name","editTaskFormInputFieldOptional_"+l),f.setAttribute("class","field-eventparam-optional"),null!=n||null!=r||t||f.setAttribute("class","field-eventparam-optional.new"),f.checked=1==a,f.disabled=t,h.appendChild(f)}function F(e,t,n,a,r,i){var l=Object(o.formUtils_generateUUID)(),d=e.insertRow(e.rows.length-1);d.setAttribute("outputfield_id",l),d.setAttribute("class","field-taskoutputfield-tr"),null!=n||null!=r||t||(d.setAttribute("class","field-taskoutputfield-tr.new field-add-new"),$(d).show("fast"));var s=document.createElement("td");d.appendChild(s);var u=document.createElement("div");s.appendChild(u),t?u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon ebIcon_disabled"):(u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),u.onclick=function(e){$(d).hide("fast",(function(){d.parentNode.removeChild(d)}))});var c=document.createElement("td");d.appendChild(c);var m=document.createElement("input");c.appendChild(m),m.setAttribute("id","editTaskFormOutputFieldName_"+l),m.setAttribute("type","text"),m.setAttribute("name","editTaskFormOutputFieldName_"+l),m.setAttribute("class","field-taskoutputfield-name ebInput ebInput_width_xLong"),null!=n||null!=r||t||m.setAttribute("class","field-taskoutputfield-name.new ebInput ebInput_width_xLong"),m.setAttribute("placeholder","Output Field Name"),n&&(m.value=n),m.readOnly=t;var b=document.createElement("td");d.appendChild(b);var v=Object(p.dropdownList)("editTaskFormOutputFieldContextSchema_"+l,i,r,t,null);b.appendChild(v);var h=document.createElement("td");h.setAttribute("class","field-checkbox-center"),d.appendChild(h);var f=document.createElement("input");f.setAttribute("type","checkbox"),f.setAttribute("id","editTaskFormOutputFieldOptional_"+l),f.setAttribute("name","editTaskFormOutputFieldOptional_"+l),f.setAttribute("class","field-eventparam-optional"),null!=n||null!=r||t||f.setAttribute("class","field-eventparam-optional.new"),f.checked=1==a,f.disabled=t,h.appendChild(f)}function w(e,t,n,a){var r=Object(o.formUtils_generateUUID)(),i=e.insertRow(e.rows.length-1);i.setAttribute("param_id",r),i.setAttribute("class","field-taskparam-tr"),null!=n||null!=a||t||(i.setAttribute("class","field-taskparam-tr.new field-add-new"),$(i).show("fast"));var l=document.createElement("td");i.appendChild(l);var d=document.createElement("div");l.appendChild(d),t?d.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(d.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),d.onclick=function(e){$(i).hide("fast",(function(){i.parentNode.removeChild(i)}))});var s=document.createElement("td");i.appendChild(s);var u=document.createElement("input");s.appendChild(u),u.setAttribute("id","editTaskFormParamName_"+r),u.setAttribute("type","text"),u.setAttribute("name","editTaskFormParamName_"+r),u.setAttribute("class","field-taskparam-name ebInput ebInput_width_xLong"),null!=n||null!=a||t||u.setAttribute("class","field-taskparam-name.new ebInput ebInput_width_xLong"),u.setAttribute("placeholder","Task Parameter Name"),n&&(u.value=n),u.readOnly=t;var c=document.createElement("td");i.appendChild(c);var m=document.createElement("input");c.appendChild(m),m.setAttribute("id","editTaskFormParamValue_"+r),m.setAttribute("type","text"),m.setAttribute("name","editTaskFormParamValue_"+r),m.setAttribute("class","field-taskparam-value  ebInput ebInput_width_xLong"),null!=n||null!=a||t||m.setAttribute("class","field-taskparam-value.new ebInput ebInput_width_xLong"),m.setAttribute("placeholder","Task Parameter Value"),a&&(m.value=a),m.readOnly=t}function O(e,t,n,a,r){var i=Object(o.formUtils_generateUUID)(),l=e.insertRow(e.rows.length-1);l.setAttribute("context_id",i),l.setAttribute("class","field-taskcontext-tr"),null!=n||null!=a||t||(l.setAttribute("class","field-taskcontext-tr.new field-add-new"),$(l).show("fast"));var d=document.createElement("td");l.appendChild(d);var s=document.createElement("div");d.appendChild(s),t?s.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(s.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),s.onclick=function(e){$(l).hide("fast",(function(){l.parentNode.removeChild(l)}))});var u=document.createElement("td");l.appendChild(u);var c=Object(p.dropdownList)("editTaskFormContextValue_"+i,r,a,t,null);u.appendChild(c)}function L(){document.getElementById("editTaskFormUuidInput").value=Object(o.formUtils_generateUUID)()}function S(){document.getElementById("editTaskFormDescriptionTextArea").value=Object(o.formUtils_generateDescription)(document.getElementById("editTaskFormNameInput").value,document.getElementById("editTaskFormVersionInput").value,document.getElementById("editTaskFormUuidInput").value)}function M(){Object(a.apexUtils_removeElement)("editTaskFormDiv"),Object(g.c)()}function U(){var e=document.getElementById("editTaskForm").getAttribute("createEditOrView");if(!e||""==e||"CREATE"!=e&&"EDIT"!=e)return console.error('Invalid operation "'+e+'" passed to editTaskForm_submitPressed function. Edit failed'),Object(a.apexUtils_removeElement)("editTaskFormDiv"),void Object(g.c)();var t=document.getElementById("editTaskFormNameInput").value,n=document.getElementById("editTaskFormVersionInput").value,i=null,o=document.getElementById("editTaskFormInputFieldsTable").rows;if(o&&o.length>2){i=new Object;for(var l=1;l<o.length-1;l++){var d=o[l];if(d&&d.getAttribute("inputfield_id")){var s=d.getAttribute("inputfield_id"),u=document.getElementById("editTaskFormInputFieldName_"+s).value,c=document.getElementById("editTaskFormInputFieldOptional_"+s).checked,m=document.getElementById("editTaskFormInputFieldContextSchema_"+s+"_dropdownList").selectedOption;if(i[u])return alert('Task "'+t+'" contains more than one Input Field called "'+u+'"'),!1;if(null==m)return alert('Task "'+t+'" has no selected Context Item Schema for the Input Field called "'+u+'"'),!1;var p=m.name,b=m.version;i[u]={localName:u,name:p,version:b,optional:c}}}}var v=null,h=document.getElementById("editTaskFormOutputFieldsTable").rows;if(h&&h.length>2){v=new Object;for(l=1;l<h.length-1;l++){var f=h[l];if(f&&f.getAttribute("outputfield_id")){var y=f.getAttribute("outputfield_id"),E=document.getElementById("editTaskFormOutputFieldName_"+y).value,A=document.getElementById("editTaskFormOutputFieldOptional_"+y).checked,C=document.getElementById("editTaskFormOutputFieldContextSchema_"+y+"_dropdownList").selectedOption;if(v[E])return alert('Task "'+t+'" contains more than one Output Field called "'+E+'"'),!1;if(null==C)return alert('Task "'+t+'" has no selected Context Item Schema for the Output Field called "'+E+'"'),!1;var x=C.name,T=C.version;v[E]={localName:E,name:x,version:T,optional:A}}}}var I=document.getElementById("editTaskFormTaskLogicTextArea_textarea").value,k=document.getElementById("editTaskFormTaskLogicTypeInput").value;if(null==k||""==k)return alert('Task "'+t+'" has no Task Logic Type'),!1;var _={logic:I,logicFlavour:k},F=null,w=document.getElementById("editTaskFormParamsTable").rows;if(w&&w.length>2){F=new Object;for(l=1;l<w.length-1;l++){var O=w[l];if(O&&O.getAttribute("param_id")){var L=O.getAttribute("param_id"),S=document.getElementById("editTaskFormParamName_"+L).value,M=document.getElementById("editTaskFormParamValue_"+L).value;if(F[S])return alert('Task "'+t+'" contains more than one Task Parameters called "'+S+'"'),!1;F[S]={parameterName:S,defaultValue:M}}}}var U=null,D=document.getElementById("editTaskFormContextsTable").rows;if(D&&D.length>2){U=new Array;for(l=1;l<D.length-1;l++){var N=D[l];if(N&&N.getAttribute("context_id")){var j=N.getAttribute("context_id"),R=document.getElementById("editTaskFormContextValue_"+j+"_dropdownList").selectedOption;if(null==R)return alert('Task "'+t+'" has Context Album reference, but no Context Album is selected'),!1;for(var B=R.displaytext,P=0;P<U.length;P++)if(null!=U[P]&&U[P].name==R.name&&U[P].version==R.version)return alert('Task "'+t+'" references Context Album "'+B+'" more than once'),!1;U.push({name:R.name,version:R.version})}}}var H={name:t,version:n,uuid:document.getElementById("editTaskFormUuidInput").value,description:document.getElementById("editTaskFormDescriptionTextArea").value,taskLogic:_,inputFields:i,outputFields:v,parameters:F,contexts:U},$=JSON.stringify(H);if("CREATE"==e){var V=window.restRootURL+"/Task/Create";Object(r.ajax_post)(V,$,(function(e){Object(a.apexUtils_removeElement)("editTaskFormDiv"),Object(g.c)(),keyInformationTab_reset()}))}else if("EDIT"==e){V=window.restRootURL+"/Task/Update";Object(r.ajax_put)(V,$,(function(e){Object(a.apexUtils_removeElement)("editTaskFormDiv"),Object(g.c)(),keyInformationTab_reset()}))}}var D=n(10);function N(e,t,n,a,r,i,l){var d=Object(o.formUtils_generateUUID)(),s=e.insertRow(e.rows.length-1);s.style.verticalAlign="top",s.style.textAlign="left",s.setAttribute("finalizer_id",d),s.setAttribute("class","field-policyoutput-tr"),null!=r||t||s.setAttribute("class","field-policyoutput-tr.new");var u=document.createElement("td");s.appendChild(u);var c=document.createElement("div");u.appendChild(c),t?c.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(c.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),c.onclick=function(e){$(s).hide("fast",(function(){s.parentNode.removeChild(s)}))});var m=document.createElement("td");m.style.whiteSpace="nowrap",s.appendChild(m);var p=document.createElement("input");m.appendChild(p),p.setAttribute("id","editPolicyFormLogicOutputNameValue_"+n+"_"+d),p.setAttribute("type","text"),p.setAttribute("name","editPolicyFormLogicOutputNameValue_"+n+"_"+d),p.setAttribute("class","field-policy-outputname"),null!=r||null!=i||null!=l||t||p.setAttribute("class","field-policy-outputname.new ebInput ebInput_width_xLong"),p.setAttribute("placeholder","A name for this Output mapper"),r&&(p.value=r),p.readOnly=t;var b=document.createElement("td");b.style.width="99%",b.style.whiteSpace="nowrap",s.appendChild(b);var v=document.createElement("div");b.appendChild(v),v.setAttribute("id","editEventFormFinalizerLogicDiv_"+n+"_"+d);var h=document.createElement("label");v.appendChild(h),h.setAttribute("for","editEventFormfinalizerLogicInput_"+n+"_"+d),h.innerHTML="Logic: ";var f=T("editEventFormfinalizerLogicInput_"+n+"_"+d,i,0,!t);v.appendChild(f);var y=document.createElement("label");v.appendChild(y),y.setAttribute("for","editPolicyFormFinalizerLogicTypeInput_"+n+"_"+d),y.innerHTML="Type / Flavour: ";var E=document.createElement("input");v.appendChild(E),E.setAttribute("id","editPolicyFormFinalizerLogicTypeInput_"+n+"_"+d),E.setAttribute("type","text"),E.setAttribute("name","editPolicyFormFinalizerLogicTypeInput_"+n+"_"+d),E.setAttribute("class","field-finalizerLogicType ebInput ebInput_width_xLong"),E.setAttribute("placeholder","MVEL"),null!=l&&(E.value=l),E.readOnly=t,b.appendChild(v)}function j(e,t,n,a,r,i,l,d,s){var u=Object(o.formUtils_generateUUID)(),c=e.insertRow(e.rows.length-1);c.setAttribute("output_id",u),c.setAttribute("class","field-policyoutput-tr"),null!=r||null!=i||null!=i||t||c.setAttribute("class","field-policyoutput-tr.new");var m=document.createElement("td");c.appendChild(m);var b=document.createElement("div");m.appendChild(b),t?b.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(b.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),b.onclick=function(e){$(c).hide("fast",(function(){c.parentNode.removeChild(c)}))});var v=document.createElement("td");c.appendChild(v);var h=document.createElement("input");v.appendChild(h),h.setAttribute("id","editPolicyFormDirectOutputNameValue_"+n+"_"+u),h.setAttribute("type","text"),h.setAttribute("name","editPolicyFormDirectOutputNameValue_"+n+"_"+u),h.setAttribute("class","field-policy-outputname ebInput ebInput_width_xLong"),null!=r||null!=i||null!=i||t||h.setAttribute("class","field-policy-outputname.new ebInput ebInput_width_xLong"),h.setAttribute("placeholder","A name for this Output mapper"),r&&(h.value=r),h.readOnly=t;var f=document.createElement("td"),y=Object(p.dropdownList)("editPolicyFormOutputEventValue_"+n+"_"+u,s,l,t,null);f.appendChild(y);var E=document.createElement("td"),A=Object(p.dropdownList)("editPolicyFormOutputNextStateValue_"+n+"_"+u,d,i,t,null,(function(){return(e=K()).push({name:"NULL",displaytext:"None"}),e;var e}));E.appendChild(A),c.appendChild(E),c.appendChild(f)}function R(e,t,n,a,r,i){var l=Object(o.formUtils_generateUUID)(),d=e.insertRow(e.rows.length-1);d.setAttribute("context_id",l),d.setAttribute("class","field-policycontext-tr"),null!=a||null!=r||t||d.setAttribute("class","field-policycontext-tr.new");var s=document.createElement("td");d.appendChild(s);var u=document.createElement("div");s.appendChild(u),t?u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),u.onclick=function(e){$(d).hide("fast",(function(){d.parentNode.removeChild(d)}))});var c=document.createElement("td");d.appendChild(c);var m=Object(p.dropdownList)("editPolicyFormContextValue_"+n+"_"+l,i,r,t,null);c.appendChild(m)}function B(e,t,n,a,r,i,l,d){var s=Object(o.formUtils_generateUUID)(),u=e.insertRow(e.rows.length-1);u.setAttribute("task_id",s),u.setAttribute("class","field-policytask-tr"),i&&null==l&&!t&&u.setAttribute("class","field-policytask-tr.new");var c=document.createElement("td");u.appendChild(c);var m=document.createElement("div");c.appendChild(m),t?m.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"):(m.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),m.onclick=function(e){$(u).hide("fast",(function(){u.parentNode.removeChild(u)}))});var b=document.createElement("td");u.appendChild(b);var v=document.createElement("input");b.appendChild(v),v.setAttribute("id","editPolicyFormTaskIsDefault_"+r+"_"+s),v.setAttribute("value","editPolicyFormTaskIsDefault_"+r+"_"+s),v.setAttribute("type","radio"),v.setAttribute("name","editPolicyFormTaskIsDefault_"+r),v.setAttribute("class","field-policy-taskisdefault"),null!=i||null!=l||t||v.setAttribute("class","field-policy-taskisdefault.new"),v.checked=n,v.readOnly=t;var h=document.createElement("td");u.appendChild(h);var f=document.createElement("input");h.appendChild(f),f.setAttribute("id","editPolicyFormTaskLocalNameValue_"+r+"_"+s),f.setAttribute("type","text"),f.setAttribute("name","editPolicyFormTaskLocalNameValue_"+r+"_"+s),f.setAttribute("class","field-policy-tasklocalname ebInput ebInput_width_xLong"),null!=i||null!=l||t||f.setAttribute("class","field-policy-tasklocalname.new ebInput ebInput_width_xLong"),f.setAttribute("placeholder","Task's Local Name"),null!=i&&null!=i.key&&null!=i.key.localName&&(f.value=i.key.localName),f.readOnly=t;var y=document.createElement("td");u.appendChild(y);var E=Object(p.dropdownList)("editPolicyFormTaskValue_"+r+"_"+s,d,l,t,null);y.appendChild(E);var A=document.createElement("td");u.appendChild(A);var C=document.createElement("label");A.appendChild(C),C.setAttribute("for","editPolicyFormTaskOutputType_"+r+"_"+s+"_DIRECT"),C.setAttribute("class","label-policy-taskoutputtype"),C.innerHTML=" DIRECT";var x=document.createElement("input");C.appendChild(x),x.setAttribute("id","editPolicyFormTaskOutputType_"+r+"_"+s+"_DIRECT"),x.setAttribute("value","DIRECT"),x.setAttribute("type","radio"),x.setAttribute("name","editPolicyFormTaskOutputType_"+r+"_"+s),x.setAttribute("class","field-policy-taskoutputtype"),null!=i||null!=l||t||x.setAttribute("class","field-policy-taskoutputtype.new"),null!=i&&null!=i.outputType&&"DIRECT"==i.outputType.toUpperCase()&&(x.checked=!0),x.readOnly=t;var g=document.createElement("td");u.appendChild(g);var T=document.createElement("label");g.appendChild(T),T.setAttribute("for","editPolicyFormTaskOutputType_"+r+"_"+s+"_LOGIC"),T.setAttribute("class","label-policy-taskoutputtype"),T.innerHTML=" LOGIC";var I=document.createElement("input");T.appendChild(I),I.setAttribute("id","editPolicyFormTaskOutputType_"+r+"_"+s+"_LOGIC"),I.setAttribute("value","LOGIC"),I.setAttribute("type","radio"),I.setAttribute("name","editPolicyFormTaskOutputType_"+r+"_"+s),I.setAttribute("class","field-policy-taskoutputtype"),i&&null==l&&!t&&I.setAttribute("class","field-policy-taskoutputtype.new"),null!=i&&null!=i.outputType&&"LOGIC"==i.outputType.toUpperCase()&&(I.checked=!0),I.readOnly=t;var k=document.createElement("td");u.appendChild(k);var _=null,F=null;null!=i&&null!=i.output&&null!=i.output.localName&&null!=i.outputType&&"DIRECT"==i.outputType.toUpperCase()?_={name:i.output.localName,displaytext:i.output.localName}:null!=i&&null!=i.output&&null!=i.output.localName&&null!=i.outputType&&"LOGIC"==i.outputType.toUpperCase()&&(F={name:i.output.localName,displaytext:i.output.localName});var w=new Array;if(null!=a&&null!=a.stateOutputs&&$.isArray(a.stateOutputs.entry))for(var O=0;O<a.stateOutputs.entry.length;O++){var L=a.stateOutputs.entry[O].key;w.push({name:L,displaytext:L})}var S=new Array;if(null!=a&&null!=a.stateFinalizerLogicMap&&$.isArray(a.stateFinalizerLogicMap.entry))for(O=0;O<a.stateFinalizerLogicMap.entry.length;O++){L=a.stateFinalizerLogicMap.entry[O].key;S.push({name:L,displaytext:L})}var M=document.createElement("div");M.appendChild(new p.dropdownList("editPolicyFormTaskDirectOutputSelection_"+r+"_"+s,w,_,t,null,(function(){return function(e){var t=new Array,n=document.getElementById("editPolicyFormDirOutputsTable_"+e).rows;if(n&&n.length>2)for(var a=1;a<n.length-1;a++){var r=n[a];if(r&&r.getAttribute("output_id")){var i=r.getAttribute("output_id"),o=document.getElementById("editPolicyFormDirectOutputNameValue_"+e+"_"+i).value;null!=o&&""!=o&&t.push({name:o,displaytext:o})}}return t}(r)}))),k.appendChild(M);var U=document.createElement("div");U.appendChild(Object(p.dropdownList)("editPolicyFormTaskLogicOutputSelection_"+r+"_"+s,S,F,t,null,(function(){return function(e){var t=new Array,n=document.getElementById("editPolicyFormLogicOutputsTable_"+e).rows;if(n&&n.length>2)for(var a=1;a<n.length-1;a++){var r=n[a];if(r&&r.getAttribute("finalizer_id")){var i=r.getAttribute("finalizer_id"),o=document.getElementById("editPolicyFormLogicOutputNameValue_"+e+"_"+i).value;null!=o&&""!=o&&t.push({name:o,displaytext:o})}}return t}(r)}))),k.appendChild(U),I.checked?(M.style.display="none",U.style.display="inline"):x.checked?(M.style.display="inline",U.style.display="none"):(M.style.display="none",U.style.display="none"),x.onclick=function(){this.checked?(M.style.display="inline",U.style.display="none"):(M.style.display="none",U.style.display="inline")},I.onclick=function(){this.checked?(M.style.display="none",U.style.display="inline"):(M.style.display="inline",U.style.display="none")}}function P(e){if(null==e||""==e)return console.error("Request for '"+e+"' state!"),alert("Request for '"+e+"' state!"),null;if(null==document.getElementById("editPolicyFormStateDiv_"+e))return console.error("State information requested for state "+e+", but that state does not exist!"),alert("State information requested for state "+e+", but that state does not exist!"),null;var t=new Object;t.name=e;var n=document.getElementById("editPolicyFormTrigger_"+e+"_dropdownList").selectedOption;t.trigger=null,null!=n&&null!=n.event&&(t.trigger={name:n.event.key.name,version:n.event.key.version});var a=new Array,r=document.getElementById("editPolicyFormContextsTable_"+e).rows;if(r&&r.length>1)for(var i=0;i<r.length-1;i++){var o=r[i];if(o&&o.getAttribute("context_id")){var l=o.getAttribute("context_id"),d=document.getElementById("editPolicyFormContextValue_"+e+"_"+l+"_dropdownList").selectedOption;null!=d&&null!=d.album&&a.push({name:d.album.key.name,version:d.album.key.version})}}t.contexts=a;var s=new Object,u=document.getElementById("editPolicyFormDirOutputsTable_"+e).rows;if(u&&u.length>2)for(i=1;i<u.length-1;i++){var c=u[i];if(c&&c.getAttribute("output_id")){var m=c.getAttribute("output_id"),p=document.getElementById("editPolicyFormDirectOutputNameValue_"+e+"_"+m).value;if(null==p||""==p)return console.error("No Local Name entered for Direct Output Mapping #"+i+" for state "+e),alert("No Local Name entered for Direct Output Mapping #"+i+" for state "+e),null;var b,v=document.getElementById("editPolicyFormOutputNextStateValue_"+e+"_"+m+"_dropdownList").selectedOption;if(null==v)return console.error("An option must be selected for Next State for Direct Output Mapping "+p+" for state "+e),alert("An option must be selected for Next State for Direct Output Mapping "+p+" for state "+e),null;b="NULL"==v.name.toUpperCase()?null:v.name;var h=document.getElementById("editPolicyFormOutputEventValue_"+e+"_"+m+"_dropdownList").selectedOption;if(null==h||null==h.event||null==h.event.key)return console.error("No Output Event selected for Direct Output Mapping "+p+" for state "+e),alert("No Output Event selected for Direct Output Mapping "+p+" for state "+e),null;var f={name:h.event.key.name,version:h.event.key.version};s[p]={event:f,nextState:b}}}t.stateOutputs=s;var y=new Object,E=document.getElementById("editPolicyFormLogicOutputsTable_"+e).rows;if(E&&E.length>2)for(i=1;i<E.length-1;i++){var A=E[i];if(A&&A.getAttribute("finalizer_id")){var C=A.getAttribute("finalizer_id"),x=document.getElementById("editPolicyFormLogicOutputNameValue_"+e+"_"+C).value;if(null==x||""==x)return console.error("No Local Name entered for Logic-based Output Mapping #"+i+" for state "+e),alert("No Local Name entered for Logic-based Output Mapping #"+i+" for state "+e),null;var g=document.getElementById("editEventFormfinalizerLogicInput_"+e+"_"+C+"_textarea").value;if(null==g||""==g)return console.error("No Logic is specified for Logic-based Output Mapping "+x+" for state "+e),alert("No Logic is specified for Logic-based Output Mapping "+x+" for state "+e),null;var T=document.getElementById("editPolicyFormFinalizerLogicTypeInput_"+e+"_"+C).value;if(null==T||""==T)return console.error("No Logic Type is specified for Logic-based Output Mapping "+x+" for state "+e),alert("No Logic Type is specified for Logic-based Output Mapping "+x+" for state "+e),null;y[x]={logic:g,logicFlavour:T}}}t.finalizers=y;var I=new Object,k=null,_=document.getElementById("editPolicyFormTasksTable_"+e).rows;if(null==_||_.length<=2)return alert("No tasks selected for state "+e),console.error("No tasks selected for state "+e),null;for(i=1;i<_.length-1;i++){var F=_[i];if(F&&F.getAttribute("task_id")){var w=F.getAttribute("task_id"),O=document.getElementById("editPolicyFormTaskLocalNameValue_"+e+"_"+w).value;if(""==O)return console.error("No Local Name entered for task #"+i+" for state "+e),alert("No Local Name entered for task #"+i+" for state "+e),null;if(null!=I[O])return console.error("There cannot be more than one task called "+O+" for state "+e),alert("There cannot be more than one task called "+O+" for state "+e),null;var L=document.getElementById("editPolicyFormTaskValue_"+e+"_"+w+"_dropdownList").selectedOption;if(null==L||null==L.task)return console.error("No Task selected for task "+O+" for state "+e),alert("No Task selected for task "+O+" for state "+e),null;var S=L.task,M=document.querySelector('input[name="editPolicyFormTaskOutputType_'+e+"_"+w+'"]:checked');if(null==M)return console.error("No Output Mapping type selected for task "+O+" for state "+e),alert("No Output Mapping type selected for task "+O+" for state "+e),null;var U=M.value,D=null;if("DIRECT"==U){var N=document.getElementById("editPolicyFormTaskDirectOutputSelection_"+e+"_"+w+"_dropdownList").selectedOption;null==N&&(console.error("No DIRECT Output Mapping selected for task "+O+" for state "+e),alert("No DIRECT Output Mapping selected for task "+O+" for state "+e)),D=N.name}else{if("LOGIC"!=U)return console.error("Unknown Output Mapping type ('"+U+"') selected for task "+O+" for state "+e),alert("Unknown Output Mapping type ('"+U+"') selected for task "+O+" for state "+e),null;var j=document.getElementById("editPolicyFormTaskLogicOutputSelection_"+e+"_"+w+"_dropdownList").selectedOption;null!=j&&null!=j.name||(console.error("No LOGIC Output Mapping selected for task "+O+" for state "+e),alert("No LOGIC Output Mapping selected for task "+O+" for state "+e)),D=j.name}I[O]={task:{name:S.key.name,version:S.key.version},outputType:U,outputName:D};var R=document.getElementById("editPolicyFormTaskIsDefault_"+e+"_"+w);(_.length<=3||null!=R&&1==R.checked)&&(k={name:S.key.name,version:S.key.version})}}t.tasks=I,t.defaultTask=k;var B=document.getElementById("editEventFormTaskSelLogicInput_"+e+"_textarea").value,P=document.getElementById("editPolicyFormTaskSelLogicTypeInput_"+e).value;if(null==B||""==B||null==P||""==P){if(null!=I&&_.length>3)return console.error("State "+e+" has more than one task reference so Task Selection Logic and Task Selection Logic type must be specified"),alert("State "+e+" has more than one task reference so Task Selection Logic and Task Selection Logic type must be specified"),null}else t.taskSelectionLogic=null!=B&&""!=B||null!=P&&""!=P?{logic:B,logicFlavour:P}:null;return t}function H(e,t,n){var a=window.restRootURL+"/ContextSchema/Get?name=&version=",i=new Array;Object(r.ajax_get)(a,(function(o){for(var l=0;l<o.messages.message.length;l++){var d=JSON.parse(o.messages.message[l]).apexContextSchema;i.push({name:d.key.name,version:d.key.version,displaytext:d.key.name+":"+d.key.version,contextSchema:d})}a=window.restRootURL+"/Task/Get?name=&version=";var s=new Array;Object(r.ajax_get)(a,(function(o){for(var l=0;l<o.messages.message.length;l++){var d=JSON.parse(o.messages.message[l]).apexTask;s.push({name:d.key.name,version:d.key.version,displaytext:d.key.name+":"+d.key.version,task:d})}a=window.restRootURL+"/ContextAlbum/Get?name=&version=";var u=new Array;Object(r.ajax_get)(a,(function(o){for(var l=0;l<o.messages.message.length;l++){var d=JSON.parse(o.messages.message[l]).apexContextAlbum;u.push({name:d.key.name,version:d.key.version,displaytext:d.key.name+":"+d.key.version,album:d})}a=window.restRootURL+"/Event/Get?name=&version=";var c=new Array;Object(r.ajax_get)(a,(function(a){for(var r=0;r<a.messages.message.length;r++){var o=JSON.parse(a.messages.message[r]).apexEvent;c.push({name:o.key.name,version:o.key.version,displaytext:o.key.name+":"+o.key.version,event:o})}V(e,n,t,s,c,u,i)}))}))}))}))}function V(e,t,n,r,o,l,d){Object(a.apexUtils_removeElement)("editPolicyFormDiv");var s=document.getElementById(e);null===s&&(s=document.createElement("testFormParent")),Object(a.apexUtils_emptyElement)(e);var u="";t?u=t.toUpperCase():console.warn("No operation specified for PolicyForm form"),"CREATE"==u||("EDIT"==u||"VIEW"==u?("EDIT"==u&&!0,n?(n.policyKey&&n.policyKey.name&&""!=n.policyKey.name||console.warn('Invalid value ("'+n.policyKey.name+'") passed as a value for "name" for PolicyForm form.'),n.policyKey&&n.policyKey.version&&""!=n.policyKey.version||console.warn('Invalid value ("'+n.policyKey.version+'") passed as a value for "version" for PolicyForm form.'),n.uuid&&""!=n.uuid||console.warn('Invalid value ("'+n.uuid+'") passed as a value for "uuid" for PolicyForm form.')):console.warn('Invalid value ("'+n+'") passed as a value for "policy" for PolicyForm form.')):console.warn('Invalid operation ("'+t+'") specified for PolicyForm form. Only "Create", "Edit" and "View" operations are supported'));var c=document.createElement("editPolicyFormDiv"),m=document.createElement("div");c.appendChild(m),m.setAttribute("id","editPolicyFormDiv"),m.setAttribute("class","editPolicyFormDiv");var b=document.createElement("h2");m.appendChild(b),b.innerHTML="Policy Editor";var v=document.createElement("editPolicyForm");m.appendChild(v),v.setAttribute("id","editPolicyForm"),v.setAttribute("class","form-style-1"),v.setAttribute("method","post"),v.setAttribute("createEditOrView",u);var h=document.createElement("ul");v.appendChild(h);var f=document.createElement("li");h.appendChild(f);var y=document.createElement("label");f.appendChild(y),y.setAttribute("for","editPolicyFormNameInput"),y.innerHTML="Name: ";var E=document.createElement("span");y.appendChild(E),E.setAttribute("class","required"),E.innerHTML="*";var A=document.createElement("input");f.appendChild(A),A.setAttribute("id","editPolicyFormNameInput"),A.setAttribute("type","text"),A.setAttribute("name","editPolicyFormNameInput"),A.setAttribute("class","field ebInput"),A.setAttribute("placeholder","name"),null!=n&&null!=n.policyKey&&null!=n.policyKey.name&&(A.value=n.policyKey.name),"CREATE"!=u&&(A.readOnly=!0);var C=document.createElement("li");h.appendChild(C);var x=document.createElement("label");C.appendChild(x),x.setAttribute("for","editPolicyFormVersionInput"),x.innerHTML="Version: ";var g=document.createElement("input");C.appendChild(g),g.setAttribute("id","editPolicyFormVersionInput"),g.setAttribute("type","text"),g.setAttribute("name","editPolicyFormVersionInput"),g.setAttribute("class","field ebInput"),g.setAttribute("placeholder","0.0.1"),null!=n&&null!=n.policyKey&&null!=n.policyKey.version&&(g.value=n.policyKey.version),"CREATE"!=u&&(g.readOnly=!0);var T=document.createElement("li");h.appendChild(T);var I=document.createElement("label");T.appendChild(I),I.setAttribute("for","editPolicyFormUuidInput"),I.innerHTML="UUID: ";var k=document.createElement("input");T.appendChild(k),k.setAttribute("id","editPolicyFormUuidInput"),k.setAttribute("type","text"),k.setAttribute("name","editPolicyFormUuidInput"),k.setAttribute("class","field-long ebInput ebInput_width_full"),k.setAttribute("placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"),null!=n&&null!=n.uuid&&(k.value=n.uuid),"CREATE"!=u&&(k.readOnly=!0);var _="CREATE"!=u&&"EDIT"!=u,F=document.createElement("li");h.appendChild(F);var w=document.createElement("label");F.appendChild(w),w.setAttribute("for","editPolicyFormDescriptionTextArea"),w.innerHTML="Description: ";var O=document.createElement("textarea");F.appendChild(O),O.setAttribute("id","editPolicyFormDescriptionTextArea"),O.setAttribute("name","editPolicyFormDescriptionTextArea"),O.setAttribute("class","field-long ebTextArea ebTextArea_width_full"),null!=n&&null!=n.description&&(O.value=n.description),O.readOnly=_;var L=document.createElement("li");h.appendChild(L);var S=document.createElement("label");L.appendChild(S),S.setAttribute("for","editEventFormTemplateTypeInput"),S.innerHTML="Policy Type / Flavour: ";var M=document.createElement("input");L.appendChild(M),M.setAttribute("id","editEventFormTemplateTypeInput"),M.setAttribute("type","text"),M.setAttribute("name","editEventFormTemplateTypeInput"),M.setAttribute("class","field-policyTemplateType ebInput"),M.setAttribute("placeholder","FREEFORM"),null!=n&&null!=n.template?M.value=n.template:M.value="FREEFORM","CREATE"!=u&&"EDIT"!=u&&(M.readOnly=!0);var U=document.createElement("li");h.appendChild(U);var D=document.createElement("label");U.appendChild(D),D.setAttribute("for","editEventFormSelectFirstState_dropdownList"),D.innerHTML="First State: ";var N=new Array,j=null;if(null!=n&&null!=n.state)for(i=0;i<n.state.entry.length;i++)if(null!=n.state.entry[i]&&null!=n.state.entry[i].key){var R=n.state.entry[i].key;N.push({name:R,displaytext:R})}null!=n&&null!=n.firstState&&""!=n.firstState&&(j={name:n.firstState,displaytext:n.firstState});var B=Object(p.dropdownList)("editEventFormSelectFirstState",N,j,"CREATE"!=u&&"EDIT"!=u,(function(){return G(o)}),(function(){return K()}));U.appendChild(B);var P=document.createElement("li");h.appendChild(P);var H=document.createElement("label");P.appendChild(H),H.setAttribute("for","editEventFormSelectTrigger_dropdownList"),H.innerHTML="Policy Trigger Event: ";var V=null;if(null!=n&&null!=n.firstState&&""!=n.firstState&&null!=n.state)for(i=0;i<n.state.entry.length;i++)if(null!=n.state.entry[i]&&null!=n.state.entry[i].key){R=n.state.entry[i].key;var Y=n.state.entry[i].value;null!=R&&R==n.firstState&&(V={name:Y.trigger.name,version:Y.trigger.version,displaytext:Y.trigger.name+":"+Y.trigger.version})}var Q=document.createElement("label");Q.setAttribute("class","policy-trigger-event"),Q.setAttribute("id","editEventFormSelectTrigger_dropdownList"),Q.innerHTML=V?V.displaytext:"No Event Selected",P.appendChild(Q);var Z=document.createElement("input");Z.setAttribute("type","checkbox"),Z.setAttribute("id","periodicEventsCheckbox"),Z.setAttribute("class","field-checkbox-center periodic-events-checkbox"),Z.disabled="EDIT"!=u,Z.onclick=function(){var e=document.getElementById("editEventFormSelectFirstState_dropdownList_display").innerHTML,t=document.getElementById("editPolicyFormTrigger_"+e+"_dropdownList");if($(Z).is(":checked")){var n=void 0,a=$.merge([],o);for(var r in o)if(-1!==o[r].name.indexOf("PeriodicEvent")){n=o[r];break}n||(n={name:"PeriodicEvent",version:"0.0.1",displaytext:"PeriodicEvent:0.0.1",event:{description:"",key:{name:"PeriodicEvent",version:"0.0.1"},nameSpace:"org.onap.policy.apex.domains.aadm.events",parameter:{entry:[{key:"PERIODIC_EVENT_COUNT",value:{key:"PERIODIC_EVENT_COUNT",optional:!1,fieldSchemaKey:{name:"PeriodicEventCount",version:"0.0.1"}}}]},source:"System",target:"Apex",uuid:"44236da1-3d47-4988-8033-b6fee9d6a0f4"}},a.push(n)),Object(p.dropdownList_ChangeOptions)(t,a,n,!1),G(a)}else Object(p.dropdownList_ChangeOptions)(t,o,o[0],!1),G(o)},P.appendChild(Z);var ee=document.createElement("label");ee.setAttribute("class","periodic-events-label"),ee.innerHTML="is Periodic Event",P.appendChild(ee);var te=document.createElement("li");h.appendChild(te);var ne=document.createElement("label");te.appendChild(ne),ne.setAttribute("for","editEventFormStates"),ne.innerHTML="States: ";var ae=document.createElement("ul");if(ae.setAttribute("id","editEventFormStates"),te.appendChild(ae),n&&n.state){var re=n.state.entry;for(var ie in re){if((Y=re[ie]).key==n.firstState){re.splice(ie,1),re.unshift(Y);break}}for(i=0;i<n.state.entry.length;i++){var oe=n.state.entry[i],le=W(R=oe.key,Y=oe.value,u,n,r,o,l,d);ae.appendChild(le)}}if("CREATE"==u||"EDIT"==u){var de=document.createElement("li");ae.appendChild(de);var se=document.createElement("label");de.appendChild(se),se.setAttribute("for","editPolicyFormStateDiv_"),se.innerHTML="Add a new State: ";var ue=document.createElement("div");de.appendChild(ue),ue.setAttribute("id","editPolicyFormStateDiv_"),ue.setAttribute("class","editPolicyFormStateDiv");var ce=document.createElement("input");ue.appendChild(ce),ce.setAttribute("id","editEventFormNewStateInput"),ce.setAttribute("type","text"),ce.setAttribute("name","editEventFormTemplateTypeInput"),ce.setAttribute("class","field-policyTemplateType ebInput ebInput_width_xLong"),ce.setAttribute("placeholder","Name for new State ... ");var me=document.createElement("button");ue.appendChild(me),me.setAttribute("id","addStateButton"),me.setAttribute("class","ebBtn"),me.setAttribute("type","submit"),me.setAttribute("value","Add a new State"),me.style["margin-left"]="10px",me.onclick=function(){return function(e,t,n,a,r,o,l){var d=document.getElementById("editEventFormNewStateInput").value;if(null==d||""==d)return alert('Please enter a value for the name of the new state"'+paramname+'"'),document.getElementById("editEventFormNewStateInput").focus(),!1;if("NULL"==d.toUpperCase()||"NONE"==d.toUpperCase())return alert('Please enter a valid value for the name of the new state"'+paramname+'". Values "NULL" and "None" are not allowed'),document.getElementById("editEventFormNewStateInput").focus(),!1;document.getElementById("editEventFormNewStateInput").value="";if(n&&n.state)for(i=0;i<n.state.entry.length;i++)if(d.toUpperCase()==n.state.entry[i].key.toUpperCase())return alert("Policy "+n.policyKey.name+":"+n.policyKey.version+' already contains a state called "'+d+'".'),document.getElementById("editEventFormNewStateInput").focus(),!1;var s=W(d,null,t,n,a,r,o,l);e.insertBefore(s,e.lastElementChild),G(r)}(ae,u,n,r,o,l,d)},me.innerHTML=me.getAttribute("value")}var pe=document.createElement("li");if(h.appendChild(pe),"CREATE"==u){var be=document.createElement("button");pe.appendChild(be),be.setAttribute("id","generateUUID"),be.setAttribute("class","ebBtn ebBtn_large"),be.setAttribute("type","submit"),be.setAttribute("value","Generate UUID"),be.onclick=q,be.innerHTML=be.getAttribute("value");var ve=document.createElement("span");pe.appendChild(ve),ve.setAttribute("class","required"),ve.innerHTML=" ";var he=document.createElement("button");pe.appendChild(he),he.setAttribute("id","generateDescription"),he.setAttribute("class","ebBtn ebBtn_large"),he.setAttribute("type","submit"),he.setAttribute("value","Generate Description"),he.onclick=J,he.innerHTML=he.getAttribute("value");var fe=document.createElement("span");pe.appendChild(fe),fe.setAttribute("class","required"),fe.innerHTML=" "}var ye=document.createElement("button");if(pe.appendChild(ye),ye.setAttribute("id","cancel"),ye.setAttribute("class","ebBtn ebBtn_large"),ye.setAttribute("type","submit"),ye.setAttribute("value","Cancel"),ye.onclick=z,ye.innerHTML=ye.getAttribute("value"),"CREATE"==u||"EDIT"==u){var Ee=document.createElement("span");pe.appendChild(Ee),Ee.setAttribute("class","required"),Ee.innerHTML=" ";var Ae=document.createElement("button");pe.appendChild(Ae),Ae.setAttribute("id","submit"),Ae.setAttribute("class","ebBtn ebBtn_large"),Ae.setAttribute("type","submit"),Ae.setAttribute("value","Submit"),Ae.onclick=X,Ae.innerHTML=Ae.getAttribute("value")}s.appendChild(c),Object(a.scrollToTop)()}function K(){for(var e=new Array,t=document.getElementById("editEventFormStates").querySelectorAll("#editEventFormStates > li[stateName]"),n=0;n<t.length;n++)null!=t&&null!=t[n]&&null!=t[n].getAttribute("stateName")&&e.push({name:t[n].getAttribute("stateName"),displaytext:t[n].getAttribute("stateName")});return e}function G(e){var t=null,n=document.getElementById("editEventFormSelectTrigger_dropdownList"),a=document.getElementById("editEventFormSelectFirstState_dropdownList").selectedOption,r=document.getElementById("editPolicyForm").getAttribute("createEditOrView");if(null!=a&&null!=a.name){var i=a.name,o=document.getElementById("editPolicyFormTrigger_"+i+"_dropdownList");if(null!=o&&o.selectedOption&&(t=o.selectedOption),"CREATE"==r)(d=document.getElementById("periodicEventsCheckbox")).hasAttribute("disabled")&&d.removeAttribute("disabled")}else{var l,d;if((n=document.getElementById("editEventFormSelectTrigger_dropdownList")).innerHTML="No Event Selected",(l=$("#periodicEventsCheckbox")).is(":checked")&&l.attr("checked",!1),"CREATE"==r)(d=document.getElementById("periodicEventsCheckbox")).hasAttribute("disabled")||(d.disabled=!0)}t&&(n.innerHTML=t.displaytext,-1==t.displaytext.indexOf("PeriodicEvent")&&(l=$("#periodicEventsCheckbox")).is(":checked")&&l.attr("checked",!1))}function W(e,t,n,r,i,o,l,d){var s=document.createElement("li");s.setAttribute("stateName",e);var u=document.createElement("div");"CREATE"==n||"EDIT"==n?(u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete"),u.onclick=function(t){$(s).hide("fast",(function(){s.parentNode.removeChild(s);var t=document.getElementById("editEventFormSelectFirstState_dropdownList_display").innerHTML,n=e!==t?{name:t,displaytext:t}:void 0;Object(p.dropdownList_ChangeOptions)(document.getElementById("editEventFormSelectFirstState_dropdownList"),K(),n,!1,K),G()}))}):u.setAttribute("class","ebIcon ebIcon_interactive ebIcon_delete ebIcon_disabled"),u.style["vertical-align"]="baseline",s.appendChild(u);var c=document.createElement("label");c.style.display="inline-block",c.style["min-width"]="120px",c.style["padding-left"]="10px",c.style["vertical-align"]="middle",c.innerHTML=e,s.appendChild(c);var m=function(e,t,n,r,i,o,l,d){var s=document.createElement("div");s.setAttribute("id","editPolicyFormStateDiv_"+n),s.setAttribute("class","editPolicyFormStateDiv");var u=document.createElement("ul");s.appendChild(u);var c=document.createElement("li");u.appendChild(c);var m=document.createElement("label");c.appendChild(m),m.setAttribute("for","editPolicyFormTrigger_"+n),m.innerHTML="Input Event for State: ";var b=null;null!=r&&null!=r.trigger&&(b={name:r.trigger.name,version:r.trigger.version,displaytext:r.trigger.name+":"+r.trigger.version});var v=Object(p.dropdownList)("editPolicyFormTrigger_"+n,o,b,"VIEW"==e,(function(){return G(o)}));c.appendChild(v);var h=document.createElement("li");u.appendChild(h);var f=document.createElement("label");h.appendChild(f),f.setAttribute("for","editPolicyFormContextsTable_"+n),f.innerHTML="Context Albums used in Task Selection Logic / State Output Logic: ";var y=document.createElement("table");y.setAttribute("id","editPolicyFormContextsTable_"+n),y.setAttribute("name","editPolicyFormContextsTable_"+n),y.setAttribute("class","table-policycontext"),h.appendChild(y);var E=document.createElement("tbody");if(y.appendChild(E),r&&r.contextAlbumReference&&$.isArray(r.contextAlbumReference))for(var A=0;A<r.contextAlbumReference.length;A++){var C=r.contextAlbumReference[A],x=C.name+":"+C.version,g={name:C.name,version:C.version,displaytext:x};R(E,"VIEW"==e,n,x,g,l)}if("CREATE"==e||"EDIT"==e){var I=document.createElement("tr");I.setAttribute("class","field-policycontext-tr.new"),E.appendChild(I);var k=document.createElement("td");k.setAttribute("colspan","2"),I.appendChild(k);var _=Object(a.createAddFormButton)("Add New Policy Logic Context");k.appendChild(_),_.onclick=function(){return R(E,!1,n,null,null,l)}}var F=document.createElement("li");u.appendChild(F);var w=document.createElement("label");F.appendChild(w),w.setAttribute("for","editPolicyFormTasksTable_"+n),w.innerHTML="State Tasks:";var O=document.createElement("table");O.setAttribute("id","editPolicyFormTasksTable_"+n),O.setAttribute("name","editPolicyFormTasksTable_"+n),O.setAttribute("class","table-policytask"),F.appendChild(O);var L=document.createElement("thead");O.appendChild(L);var S=document.createElement("tr");L.appendChild(S),S.appendChild(document.createElement("th"));var M=document.createElement("th");S.appendChild(M),M.innerHTML="Default Task? ",M.setAttribute("class","table-policytask-heading form-heading");var U=document.createElement("th");S.appendChild(U),U.innerHTML="Local Name for Task: ",U.setAttribute("class","table-policytask-heading form-heading");var D=document.createElement("th");S.appendChild(D),D.innerHTML="Task: ",D.setAttribute("class","table-policytask-heading form-heading");var P=document.createElement("th");S.appendChild(P),P.innerHTML="Output Mapping type: ",P.setAttribute("class","table-policytask-heading form-heading"),P.setAttribute("colspan","2");var H=document.createElement("th");S.appendChild(H),H.innerHTML="Output Mapping: ",H.setAttribute("class","table-policytask-heading form-heading");var V=document.createElement("tbody");O.appendChild(V);var K=null;if(r&&r.defaultTask&&r.defaultTask.name&&r.defaultTask.version&&(K=r.defaultTask.name+":"+r.defaultTask.version),r&&r.taskReferences&&$.isArray(r.taskReferences.entry))for(A=0;A<r.taskReferences.entry.length;A++){var W=r.taskReferences.entry[A],q=W.key.name+":"+W.key.version,J={name:W.key.name,version:W.key.version,displaytext:q},z=W.value;B(V,"VIEW"==e,K==q,r,n,z,J,i)}if("CREATE"==e||"EDIT"==e){var X=document.createElement("tr");X.setAttribute("class","field-policytask-tr.new"),V.appendChild(X);var Y=document.createElement("td");Y.setAttribute("colspan","4"),X.appendChild(Y);var Q=Object(a.createAddFormButton)("Add New Task");Y.appendChild(Q),Q.onclick=function(){return B(V,!1,!1,r,n,null,null,i)}}var Z=document.createElement("li");u.appendChild(Z);var ee=document.createElement("label");Z.appendChild(ee),ee.setAttribute("for","editEventFormTaskSelLogicDiv_"+n),ee.innerHTML="Task Selection Logic: ";var te=document.createElement("div");te.setAttribute("id","editEventFormTaskSelLogicDiv_"+n);var ne="";r&&r.taskSelectionLogic&&r.taskSelectionLogic.logic&&""!=r.taskSelectionLogic.logic&&(ne=r.taskSelectionLogic.logic);var ae=!1;"CREATE"!=e&&"EDIT"!=e&&(ae=!0);var re=T("editEventFormTaskSelLogicInput_"+n,ne,0,!ae);Z.appendChild(re);var ie=document.createElement("label");te.appendChild(ie),ie.setAttribute("for","editPolicyFormTaskSelLogicTypeInput_"+n),ie.innerHTML="Task Selection Logic Type / Flavour: ";var oe=document.createElement("input");te.appendChild(oe),oe.setAttribute("id","editPolicyFormTaskSelLogicTypeInput_"+n),oe.setAttribute("type","text"),oe.setAttribute("name","editPolicyFormTaskSelLogicTypeInput_"+n),oe.setAttribute("class","field-taskSelLogicType ebInput ebInput_width_xLong"),oe.setAttribute("placeholder","MVEL"),r&&r.taskSelectionLogic&&null!=r.taskSelectionLogic.logicFlavour&&""!=r.taskSelectionLogic.logicFlavour&&"UNDEFINED"!=r.taskSelectionLogic.logicFlavour.toUpperCase()&&(oe.value=r.taskSelectionLogic.logicFlavour),oe.readOnly="CREATE"!=e&&"EDIT"!=e,u.appendChild(te);var le=document.createElement("li");u.appendChild(le);var de=document.createElement("label");le.appendChild(de),de.innerHTML="State Output Mappings: ",de.setAttribute("for","editPolicyFormOutputsUL_"+n);var se=document.createElement("ul");se.setAttribute("id","editPolicyFormOutputsUL_"+n),le.appendChild(se);var ue=document.createElement("li");se.appendChild(ue);var ce=document.createElement("label");ue.appendChild(ce),ue.innerHTML="Direct State Output Mappings: ",ce.setAttribute("for","editPolicyFormDirOutputsTable_"+n);var me=document.createElement("table");me.setAttribute("id","editPolicyFormDirOutputsTable_"+n),me.setAttribute("name","editPolicyFormDirOutputsTable_"+n),me.setAttribute("class","table-policyoutput"),ue.appendChild(me);var pe=document.createElement("thead");me.appendChild(pe);var be=document.createElement("tr");pe.appendChild(be),be.appendChild(document.createElement("th"));var ve=document.createElement("th");be.appendChild(ve),ve.innerHTML="Local Name for Output Mapping: ",ve.setAttribute("class","table-policyoutput-heading form-heading");var he=document.createElement("th");be.appendChild(he),he.innerHTML="Next State: ",he.setAttribute("class","table-policyoutput-heading form-heading");var fe=document.createElement("th");be.appendChild(fe),fe.innerHTML="State Output Event: ",fe.setAttribute("class","table-policyoutput-heading form-heading");var ye=document.createElement("tbody");me.appendChild(ye);var Ee=new Array;if(Ee.push({name:"NULL",displaytext:"None",state:null}),t&&t.state&&t.state.entry&&$.isArray(t.state.entry))for(var Ae=0;Ae<t.state.entry.length;Ae++){var Ce=t.state.entry[Ae];n!=Ce.key&&Ee.push({name:Ce.key,displaytext:Ce.key,state:Ce.value})}if(r&&r.stateOutputs&&$.isArray(r.stateOutputs.entry))for(A=0;A<r.stateOutputs.entry.length;A++){var xe=(Re=r.stateOutputs.entry[A]).key,ge=null,Te=Re.value.nextState.localName;null!=Te&&"NULL"!=Te.toUpperCase()&&(ge={name:Te,displaytext:Te}),null!=Te&&"NULL"==Te.toUpperCase()&&(ge={name:"NULL",displaytext:"None"});var Ie=null,ke=Re.value.outgoingEvent;null!=ke&&null!=ke.name&&null!=ke.version&&(Ie={name:ke.name,version:ke.version,displaytext:ke.name+":"+ke.version}),j(ye,"VIEW"==e,n,r,xe,ge,Ie,Ee,o)}if("CREATE"==e||"EDIT"==e){var _e=document.createElement("tr");_e.setAttribute("class","field-policyoutput-tr.new"),ye.appendChild(_e);var Fe=document.createElement("td");Fe.setAttribute("colspan","4"),_e.appendChild(Fe);var we=Object(a.createAddFormButton)("Add New Direct State Output Mapping");Fe.appendChild(we),we.onclick=function(){return j(ye,!1,n,r,null,null,null,Ee,o)}}var Oe=document.createElement("li");se.appendChild(Oe);var Le=document.createElement("label");Oe.appendChild(ce),Oe.innerHTML="Logic-based State Output Mappings / Finalizers: ",Le.setAttribute("for","editPolicyFormLogicOutputsTable_"+n);var Se=document.createElement("table");Se.setAttribute("id","editPolicyFormLogicOutputsTable_"+n),Se.setAttribute("name","editPolicyFormLogicOutputsTable_"+n),Se.setAttribute("class","table-policyoutput"),Oe.appendChild(Se);var Me=document.createElement("thead");Se.appendChild(Me);var Ue=document.createElement("tr");Me.appendChild(Ue),Ue.appendChild(document.createElement("th"));var De=document.createElement("th");Ue.appendChild(De),De.innerHTML="Local Name for Output Mapping: ",De.setAttribute("class","table-policyoutput-heading form-heading");var Ne=document.createElement("th");Ue.appendChild(Ne),Ne.style.textAlign="left",Ne.innerHTML="Output Mapping / Finalizer Logic: ",Ne.setAttribute("class","table-policyoutput-heading form-heading");var je=document.createElement("tbody");if(Se.appendChild(je),r&&r.stateFinalizerLogicMap&&$.isArray(r.stateFinalizerLogicMap.entry))for(A=0;A<r.stateFinalizerLogicMap.entry.length;A++){var Re;xe=(Re=r.stateFinalizerLogicMap.entry[A]).key,ne=null;null!=Re.value&&null!=Re.value.logic&&(ne=Re.value.logic);var Be=null;null!=Re.value&&null!=Re.value.logicFlavour&&(Be=Re.value.logicFlavour),N(je,"VIEW"==e,n,r,xe,ne,Be)}if("CREATE"==e||"EDIT"==e){var Pe=document.createElement("tr");Pe.setAttribute("class","field-policyoutput-tr.new"),je.appendChild(Pe);var He=document.createElement("td");He.setAttribute("colspan","3"),Pe.appendChild(He);var $e=Object(a.createAddFormButton)("Add New Logic-based State Output Mapping / Finalizer");He.appendChild($e),$e.onclick=function(){return N(je,!1,n,r,null,null,null)}}return s}(n,r,e,t,i,o,l),b=showHideElement("editEventFormStates_"+e,m,!0,"Show "+e+" ...","Hide "+e+" ...","showhide_div_show","showhide_div_hide","showhide_button_show","showhide_button_hide");return b.style.display="inline-block",b.style["vertical-align"]="middle",c.setAttribute("for",m.id),s.appendChild(b),s.appendChild(m),s}function q(){document.getElementById("editPolicyFormUuidInput").value=Object(o.formUtils_generateUUID)()}function J(){document.getElementById("editPolicyFormDescriptionTextArea").value=Object(o.formUtils_generateDescription)(document.getElementById("editPolicyFormNameInput").value,document.getElementById("editPolicyFormVersionInput").value,document.getElementById("editPolicyFormUuidInput").value)}function z(){Object(a.apexUtils_removeElement)("editPolicyFormDiv"),Object(D.c)()}function X(){var e=document.getElementById("editPolicyForm").getAttribute("createEditOrView");if(!e||""==e||"CREATE"!=e&&"EDIT"!=e)return console.error('Invalid operation "'+e+'" passed to editPolicyForm_submitPressed function. Edit failed'),Object(a.apexUtils_removeElement)("editPolicyFormDiv"),void Object(D.c)();var t=function(){var e=document.getElementById("editPolicyFormNameInput").value;if(null==e||""==e)return console.error("No Name is specified for the policy"),alert("No Name is specified for the policy"),null;var t=document.getElementById("editPolicyFormVersionInput").value;if(null==t||""==t)return console.error("No Version is specified for the policy"),alert("No Version is specified for the policy"),null;var n=document.getElementById("editPolicyFormUuidInput").value;if(null==n||""==n)return console.error("No UUID is specified for the policy"),alert("No UUID is specified for the policy"),null;var a=document.getElementById("editPolicyFormDescriptionTextArea").value;null==a&&(a="");var r=document.getElementById("editEventFormTemplateTypeInput").value;null==r&&(r="");var i=document.getElementById("editEventFormSelectFirstState_dropdownList").selectedOption;if(null==i)return console.error("Please select an option for First State"),alert("Please select an option for First State"),null;for(var o=new Object,l=document.getElementById("editEventFormStates").querySelectorAll("#editEventFormStates > li[stateName]"),d=0;d<l.length;d++)if(null!=l&&null!=l[d]&&null!=l[d].getAttribute("stateName")){var s=l[d].getAttribute("stateName"),u=P(s);if(null==u)return null;o[s]=u}return{name:e,version:t,uuid:n,description:a,template:r,firstState:i.name,states:o}}();if(null==t)return!1;var n=JSON.stringify(t);if("CREATE"==e){var i=window.restRootURL+"/Policy/Create";Object(r.ajax_post)(i,n,(function(e){Object(a.apexUtils_removeElement)("editPolicyFormDiv"),Object(D.c)(),Object(v.c)()}))}else if("EDIT"==e){var o=$("#periodicEventsCheckbox").is(":checked");i=window.restRootURL+"/Policy/Update?firstStatePeriodic="+o;Object(r.ajax_put)(i,n,(function(e){Object(a.apexUtils_removeElement)("editPolicyFormDiv"),Object(D.c)(),Object(v.c)()}))}}const{ajax_delete:Y,ajax_getWithKeyInfo:Q,ajax_get:Z}=n(1),{contextAlbumTab_reset:ee}=n(12),{apexUtils_removeElement:te,apexUtils_emptyElement:ne,scrollToTop:ae,apexUtils_areYouSure:re}=n(0),{dropdownList:ie}=n(3),{formUtils_generateDescription:oe,formUtils_generateUUID:le}=n(2);function de(e,t,n,a){te("editContextAlbumFormDiv");var r=document.getElementById(e);null===r&&(r=document.createElement(e)),ne(e);var i="";t?i=t.toUpperCase():console.warn("No operation specified for ContextAlbumForm form"),"CREATE"==i||("EDIT"==i||"VIEW"==i?("EDIT"==i&&!0,n?(n.key&&n.key.name&&""!=n.key.name||console.warn('Invalid value ("'+n.key.name+'") passed as a value for "name" for ContextAlbumForm form.'),n.key&&n.key.version&&""!=n.key.version||console.warn('Invalid value ("'+n.key.version+'") passed as a value for "version" for ContextAlbumForm form.'),n.uuid&&""!=n.uuid||console.warn('Invalid value ("'+n.uuid+'") passed as a value for "uuid" for ContextAlbumForm form.'),"VIEW"==i&&(n.description||console.warn('Invalid value ("'+n.description+'") passed as a value for "description" for ContextAlbumForm form.'),n.scope&&""!=n.scope||console.warn('Invalid value ("'+n.scope+'") passed as a value for "scope" for ContextAlbumForm form.'),n.itemSchema&&n.itemSchema.name&&""!=n.itemSchema.name&&n.itemSchema.version&&""!=n.itemSchema.version||console.warn('Invalid value ("'+n.itemSchema+'") passed as a value for "itemSchema" for ContextAlbumForm form.'),n.isWritable&&""!=n.isWritable||console.warn('Invalid value ("'+n.isWritable+'") passed as a value for "isWritable" for ContextAlbumForm form.'))):console.warn('Invalid value ("'+n+'") passed as a value for "contextAlbum" for ContextAlbumForm form.')):console.warn('Invalid operation ("'+t+'") specified for ContextAlbumForm form. Only "Create", "Edit" and "View" operations are supported'));var o=document.createElement("editContextAlbumFormDiv"),l=document.createElement("div");o.appendChild(l),l.setAttribute("id","editContextAlbumFormDiv"),l.setAttribute("class","editContextAlbumFormDiv");var d=document.createElement("h2");l.appendChild(d),d.innerHTML="Context Item Album Editor";var s=document.createElement("editContextAlbumForm");l.appendChild(s),s.setAttribute("id","editContextAlbumForm"),s.setAttribute("class","form-style-1"),s.setAttribute("method","post"),s.setAttribute("createEditOrView",i);var u=document.createElement("ul");s.appendChild(u);var c=document.createElement("li");u.appendChild(c);var m=document.createElement("label");c.appendChild(m),m.setAttribute("for","editContextAlbumFormNameInput"),m.innerHTML="Name: ";var p=document.createElement("span");m.appendChild(p),p.setAttribute("class","required"),p.innerHTML="*";var b=document.createElement("input");c.appendChild(b),b.setAttribute("id","editContextAlbumFormNameInput"),b.setAttribute("type","text"),b.setAttribute("name","editContextAlbumFormameInput"),b.setAttribute("class","field ebInput"),b.setAttribute("placeholder","name"),n&&n.key&&n.key.name&&(b.value=n.key.name),"CREATE"!=i&&(b.readOnly=!0);var v=document.createElement("li");u.appendChild(v);var h=document.createElement("label");v.appendChild(h),h.setAttribute("for","editContextAlbumFormVersionInput"),h.innerHTML="Version: ";var f=document.createElement("input");v.appendChild(f),f.setAttribute("id","editContextAlbumFormVersionInput"),f.setAttribute("type","text"),f.setAttribute("name","editContextAlbumFormVersionInput"),f.setAttribute("class","field ebInput"),f.setAttribute("placeholder","0.0.1"),n&&n.key&&n.key.version&&(f.value=n.key.version),"CREATE"!=i&&(f.readOnly=!0);var y=document.createElement("li");u.appendChild(y);var E=document.createElement("label");y.appendChild(E),E.setAttribute("for","editContextAlbumFormUuidInput"),E.innerHTML="UUID: ";var A=document.createElement("input");y.appendChild(A),A.setAttribute("id","editContextAlbumFormUuidInput"),A.setAttribute("type","text"),A.setAttribute("name","editContextAlbumFormUuidInput"),A.setAttribute("class","field-long  ebInput ebInput_width_full"),A.setAttribute("placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"),n&&n.uuid&&(A.value=n.uuid),"CREATE"!=i&&(A.readOnly=!0);var C="CREATE"!=i&&"EDIT"!=i,x=document.createElement("li");u.appendChild(x);var g=document.createElement("label");x.appendChild(g),g.setAttribute("for","editContextAlbumFormDescriptionTextArea"),g.innerHTML="Description: ";var T=document.createElement("textarea");x.appendChild(T),T.setAttribute("id","editContextAlbumFormDescriptionTextArea"),T.setAttribute("name","editContextAlbumFormDescriptionTextArea"),T.setAttribute("class","field-long field-textarea  ebTextArea ebTextArea_width_full"),n&&n.description&&(T.value=n.description),T.readOnly=C;var I=document.createElement("li");u.appendChild(I);var k=document.createElement("label");I.appendChild(k),k.setAttribute("for","editContextAlbumFormAlbumScopeInput"),k.innerHTML="Context Album Scope: ";var _=document.createElement("input");I.appendChild(_),_.setAttribute("id","editContextAlbumFormAlbumScopeInput"),_.setAttribute("type","text"),_.setAttribute("name","editContextAlbumFormAlbumScopeInput"),_.setAttribute("class","field-albumScope ebInput"),_.setAttribute("placeholder","Global"),n&&n.scope&&(_.value=n.scope),_.readOnly=C;var F=document.createElement("li");u.appendChild(F);var w=document.createElement("label");F.appendChild(w),w.setAttribute("for","editContextAlbumFormAlbumReadOnlyInput"),w.innerHTML="Read Only? ";var O=document.createElement("input");O.setAttribute("type","checkbox"),F.appendChild(O),O.setAttribute("id","editContextAlbumFormAlbumReadOnlyCheckbox"),O.setAttribute("name","editContextAlbumFormAlbumReadOnlyCheckbox"),O.setAttribute("class","field-albumReadonlyCheckbox"),n&&null!=n.isWritable&&!1===n.isWritable?O.checked=!0:O.checked=!1,O.disabled=C;var L=document.createElement("li");u.appendChild(L);var S=document.createElement("label");L.appendChild(S),S.setAttribute("for","editContextAlbumFormAlbumItemSchema"),S.innerHTML="Schema/Type of Album items: ";var M=null;n&&null!=n.itemSchema&&null!=n.itemSchema.name&&null!=n.itemSchema.version&&""!=n.itemSchema.name&&""!=n.itemSchema.version&&(M={name:n.itemSchema.name,version:n.itemSchema.version,displaytext:n.itemSchema.name+":"+n.itemSchema.version,contextAlbum:n});var U=ie("editContextAlbumFormAlbumItemSchema",a,M,C,null);null==U?(console.error("Cannot create a Context Album because there are no contextSchemas to add to it"),alert("Cannot create a Context Album because there are no contextSchemas to add to it"),ce()):L.appendChild(U);var D=document.createElement("li");if(u.appendChild(D),"CREATE"==i){var N=document.createElement("button");D.appendChild(N),N.setAttribute("id","generateUUID"),N.setAttribute("class","ebBtn ebBtn_large"),N.setAttribute("type","submit"),N.setAttribute("value","Generate UUID"),N.onclick=se,N.innerHTML=N.getAttribute("value");var j=document.createElement("span");D.appendChild(j),j.setAttribute("class","required"),j.innerHTML=" "}if("CREATE"==i){var R=document.createElement("button");D.appendChild(R),R.setAttribute("id","generateDescription"),R.setAttribute("class","ebBtn ebBtn_large"),R.setAttribute("type","submit"),R.setAttribute("value","Generate Description"),R.onclick=ue,R.innerHTML=R.getAttribute("value");var B=document.createElement("span");D.appendChild(B),B.setAttribute("class","required"),B.innerHTML=" "}var P=document.createElement("button");if(D.appendChild(P),P.setAttribute("id","cancel"),P.setAttribute("class","ebBtn ebBtn_large"),P.setAttribute("type","submit"),P.setAttribute("value","Cancel"),P.onclick=ce,P.innerHTML=P.getAttribute("value"),"CREATE"==i||"EDIT"==i){var H=document.createElement("span");D.appendChild(H),H.setAttribute("class","required"),H.innerHTML=" ";var $=document.createElement("button");D.appendChild($),$.setAttribute("id","submit"),$.setAttribute("class","ebBtn ebBtn_large"),$.setAttribute("type","submit"),$.setAttribute("value","Submit"),$.onclick=me,$.innerHTML=$.getAttribute("value")}r.appendChild(o),ae()}function se(){document.getElementById("editContextAlbumFormUuidInput").value=le()}function ue(){document.getElementById("editContextAlbumFormDescriptionTextArea").value=oe(document.getElementById("editContextAlbumFormNameInput").value,document.getElementById("editContextAlbumFormVersionInput").value,document.getElementById("editContextAlbumFormUuidInput").value)}function ce(){te("editContextAlbumFormDiv"),ee()}function me(){var e=$("#editContextAlbumForm").attr("createEditOrView");if(!e||""==e||"CREATE"!=e&&"EDIT"!=e)return console.error('Invalid operation "'+e+'" passed to editContextAlbumForm_submitPressed function. Edit failed'),te("editContextAlbumFormDiv"),void ee();var t=$("#editContextAlbumFormNameInput").val(),n=$("#editContextAlbumFormVersionInput").val(),a=document.getElementById("editContextAlbumFormAlbumItemSchema_dropdownList").selectedOption;if(null==a)return alert('Context Album "'+t+'" has no selected Album Item Schema/Type'),!1;var r={name:a.name,version:a.version},i=$("#editContextAlbumFormAlbumScopeInput").val().toUpperCase();if("APPLICATION"!=i&&"EXTERNAL"!=i&&"GLOBAL"!=i&&!re('Are you sure you want to set the scope ContextAlbum to "'+i+'"? Currently the only scope supported are: "APPLICATION", "EXTERNAL" and "GLOBAL"'))return!1;var o=$("#editContextAlbumFormAlbumReadOnlyCheckbox").prop("checked");if(o&&"EXTERNAL"!=i&&!re('Are you sure you want to set the scope ContextAlbum to "'+i+'" while it is set as Read Only. It only makes sense to use readonly for "EXTERNAL" Context Albums. If this Album is readonly it cannot be set!'))return!1;if(!o&&"EXTERNAL"==i&&!re('Are you sure you want to set the scope ContextAlbum to "'+i+'" while it is not set as Read Only. It only makes sense to use readonly for "EXTERNAL" Context Albums since EXTERNAL context cannot be set in policies.'))return!1;var l=JSON.stringify({name:t,version:n,uuid:$("#editContextAlbumFormUuidInput").val(),description:$("#editContextAlbumFormDescriptionTextArea").val(),itemSchema:r,scope:i,writeable:!o});if("CREATE"==e){var d=window.restRootURL+"/ContextAlbum/Create";ajax_post(d,l,(function(e){te("editContextAlbumFormDiv"),ee(),keyInformationTab_reset()}))}else if("EDIT"==e){d=window.restRootURL+"/ContextAlbum/Update";ajax_put(d,l,(function(e){te("editContextAlbumFormDiv"),ee(),keyInformationTab_reset()}))}}function pe(e,t,n,i){return function(o){!function(e,t,n,i,o){var s=document.getElementById("rightClickMenu");null==s&&(s=document.createElement("div"),document.body.appendChild(s));Object(a.apexUtils_emptyElement)("rightClickMenu"),s.setAttribute("id","rightClickMenu"),s.setAttribute("title",n+" menu"),s.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1);var u=document.createElement("div");u.setAttribute("class","ebComponentList"),s.appendChild(u);var c=document.createElement("div");c.setAttribute("class","ebComponentList-item"),c.onclick=function(){return function(e,t){document.getElementById("rightClickMenu").className="ebContextMenu-body_visible_false","CONTEXTSCHEMA"==t.toUpperCase()?d(e,"CREATE",null):"EVENT"==t.toUpperCase()?function(e){var t=window.restRootURL+"/ContextSchema/Get?name=&version=",n=new Array;Object(r.ajax_get)(t,(function(t){for(var a=0;a<t.messages.message.length;a++){var r=JSON.parse(t.messages.message[a]).apexContextSchema,i={name:r.key.name,version:r.key.version,displaytext:r.key.name+":"+r.key.version,contextSchema:r};n.push(i)}f(e,"CREATE",null,n)}))}(e):"TASK"==t.toUpperCase()?function(e){var t=window.restRootURL+"/ContextSchema/Get?name=&version=",n=new Array;Object(r.ajax_get)(t,(function(t){for(var a=0;a<t.messages.message.length;a++){var i=JSON.parse(t.messages.message[a]).apexContextSchema,o={name:i.key.name,version:i.key.version,displaytext:i.key.name+":"+i.key.version,contextSchema:i};n.push(o)}var l=window.restRootURL+"/ContextAlbum/Get?name=&version=",d=new Array;Object(r.ajax_get)(l,(function(t){for(var a=0;a<t.messages.message.length;a++){var r=JSON.parse(t.messages.message[a]).apexContextAlbum,i={name:r.key.name,version:r.key.version,displaytext:r.key.name+":"+r.key.version,contextAlbum:r};d.push(i)}k(e,"CREATE",null,n,d)}))}))}(e):"POLICY"==t.toUpperCase()?function(e){H(e,null,"CREATE")}(e):"CONTEXTALBUM"==t.toUpperCase()?function(e){var t=window.restRootURL+"/ContextSchema/Get?name=&version=",n=new Array;Z(t,(function(t){for(var a=0;a<t.messages.message.length;a++){var r=JSON.parse(t.messages.message[a]).apexContextSchema;n.push({name:r.key.name,version:r.key.version,displaytext:r.key.name+":"+r.key.version,contextSchema:r})}de(e,"CREATE",null,n)}))}(e):alert("So you want to create a new "+t)}(t,n)},c.innerHTML="Create new <type>"+n+"<type>","KEYINFORMATION"==n.toUpperCase()&&c.setAttribute("class","ebComponentList-item ebComponentList-item_disabled");if(u.appendChild(c),i){var m=i+":"+o,p=document.createElement("div");p.setAttribute("class","ebComponentList-item"),p.onclick=function(){return function(e,t,n,a){document.getElementById("rightClickMenu").className="ebContextMenu-body_visible_false","CONTEXTSCHEMA"==t.toUpperCase()?function(e,t,n){var a=window.restRootURL+"/ContextSchema/Get?name="+t+"&version="+n;Object(r.ajax_getWithKeyInfo)(a,"apexContextSchema",(function(t){d(e,"VIEW",t)}))}(e,n,a):"EVENT"==t.toUpperCase()?function(e,t,n){h(e,t,n,"VIEW")}(e,n,a):"TASK"==t.toUpperCase()?function(e,t,n){I(e,t,n,"VIEW")}(e,n,a):"POLICY"==t.toUpperCase()?function(e,t,n){var a=window.restRootURL+"/Policy/Get?name="+t+"&version="+n;Object(r.ajax_getWithKeyInfo)(a,"apexPolicy",(function(t){H(e,t,"VIEW")}),"policyKey")}(e,n,a):"CONTEXTALBUM"==t.toUpperCase()?function(e,t,n){var a=window.restRootURL+"/ContextAlbum/Get?name="+t+"&version="+n;Q(a,"apexContextAlbum",(function(t){var n=window.restRootURL+"/ContextSchema/Get?name=&version=",a=new Array;Z(n,(function(n){for(var r=0;r<n.messages.message.length;r++){var i=JSON.parse(n.messages.message[r]).apexContextSchema;a.push({name:i.key.name,version:i.key.version,displaytext:i.key.name+":"+i.key.version,contextSchema:i})}de(e,"VIEW",t,a)}))}))}(e,n,a):alert("So you want to view "+t+" "+n+":"+a)}(t,n,i,o)},p.innerHTML="View <type>"+n+"</type> <value>"+m+"<value>",u.appendChild(p);var y=document.createElement("div");y.setAttribute("class","ebComponentList-item"),y.onclick=function(){return function(e,t,n,a){document.getElementById("rightClickMenu").className="ebContextMenu-body_visible_false","CONTEXTSCHEMA"==t.toUpperCase()?function(e,t,n){var a=window.restRootURL+"/ContextSchema/Get?name="+t+"&version="+n;Object(r.ajax_getWithKeyInfo)(a,"apexContextSchema",(function(t){d(e,"EDIT",t)}))}(e,n,a):"EVENT"==t.toUpperCase()?function(e,t,n){h(e,t,n,"EDIT")}(e,n,a):"TASK"==t.toUpperCase()?function(e,t,n){I(e,t,n,"EDIT")}(e,n,a):"POLICY"==t.toUpperCase()?function(e,t,n){var a=window.restRootURL+"/Policy/Get?name="+t+"&version="+n;Object(r.ajax_getWithKeyInfo)(a,"apexPolicy",(function(t){H(e,t,"EDIT")}),"policyKey")}(e,n,a):"CONTEXTALBUM"==t.toUpperCase()?function(e,t,n){var a=window.restRootURL+"/ContextAlbum/Get?name="+t+"&version="+n;Q(a,"apexContextAlbum",(function(t){var n=window.restRootURL+"/ContextSchema/Get?name=&version=",a=new Array;Z(n,(function(n){for(var r=0;r<n.messages.message.length;r++){var i=JSON.parse(n.messages.message[r]).apexContextSchema;a.push({name:i.key.name,version:i.key.version,displaytext:i.key.name+":"+i.key.version,contextSchema:i})}de(e,"EDIT",t,a)}))}))}(e,n,a):alert("So you want to edit "+t+" "+n+":"+a)}(t,n,i,o)},y.innerHTML="Edit <type>"+n+"</type> <value>"+m+"<value>",u.appendChild(y);var E=document.createElement("div");E.setAttribute("class","ebComponentList-item"),E.onclick=function(){return function(e,t,n,i){document.getElementById("rightClickMenu").className="ebContextMenu-body_visible_false","CONTEXTSCHEMA"==t.toUpperCase()?function(e,t,n){var i='Are you sure you want to delete ContextSchema "'+t+":"+n+'"?';if(Object(a.apexUtils_areYouSure)(i)){var o=window.restRootURL+"/ContextSchema/Delete?name="+t+"&version="+n;Object(r.ajax_delete)(o,(function(e){Object(a.apexUtils_removeElement)("editContextSchemaFormDiv"),Object(l.c)(),keyInformationTab_reset()}))}}(0,n,i):"EVENT"==t.toUpperCase()?function(e,t,n){var i='Are you sure you want to delete Event "'+t+":"+n+'"?';if(Object(a.apexUtils_areYouSure)(i)){var o=window.restRootURL+"/Event/Delete?name="+t+"&version="+n;Object(r.ajax_delete)(o,(function(e){Object(a.apexUtils_removeElement)("editEventFormDiv"),Object(b.c)(),Object(v.c)()}))}}(0,n,i):"TASK"==t.toUpperCase()?function(e,t,n){var i='Are you sure you want to delete Task "'+t+":"+n+'"?';if(Object(a.apexUtils_areYouSure)(i)){var o=window.restRootURL+"/Task/Delete?name="+t+"&version="+n;Object(r.ajax_delete)(o,(function(e){Object(a.apexUtils_removeElement)("editTaskFormDiv"),Object(g.c)(),keyInformationTab_reset()}))}}(0,n,i):"POLICY"==t.toUpperCase()?function(e,t,n){var i='Are you sure you want to delete Policy "'+t+":"+n+'"?';if(Object(a.apexUtils_areYouSure)(i)){var o=restRootURL+"/Policy/Delete?name="+t+"&version="+n;Object(r.ajax_delete)(o,(function(e){Object(a.apexUtils_removeElement)("editPolicyFormDiv"),Object(D.c)(),Object(v.c)()}))}}(0,n,i):"CONTEXTALBUM"==t.toUpperCase()?function(e,t,n){if(re('Are you sure you want to delete ContextAlbum "'+t+":"+n+'"?')){var a=window.restRootURL+"/ContextAlbum/Delete?name="+t+"&version="+n;Y(a,(function(e){te("editContextAlbumFormDiv"),ee(),keyInformationTab_reset()}))}}(0,n,i):alert("So you want to delete "+t+" "+n+":"+i)}(0,n,i,o)},E.innerHTML="Delete <type>"+n+"</type> <value>"+m+"<value>",u.appendChild(E),"KEYINFORMATION"==n.toUpperCase()&&E.setAttribute("class","ebComponentList-item ebComponentList-item_disabled")}s.setAttribute("class","ebContextMenu-body ebContextMenu-body_corner_default ebContextMenu-body_visible_true"),s.style.position="absolute",s.style.top=function(e){return e.pageY?e.pageY:e.clientY?e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null}(e),s.style.left=function(e){return e.pageX?e.pageX:e.clientX?e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null}(e),e.stopPropagation(),e.returnValue=!1,e.preventDefault()}(o,e,t,n,i)}}$(document).on("click",(function(e){document.getElementById("rightClickMenu")&&(document.getElementById("rightClickMenu").className="ebContextMenu-body_visible_false")}))},function(e,t,n){"use strict";function a(e){var t=document.createElement("table");return t.setAttribute("id",e),t.setAttribute("class","apexTable ebTable elTablelib-Table-table ebTable_striped"),t}function r(e){e.className="ebTableRow",e.onmouseover=function(){this.className="ebTableRow ebTableRow_hover"},e.onmouseout=function(){this.className="ebTableRow"}}n.r(t),n.d(t,"createTable",(function(){return a})),n.d(t,"setRowHover",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));const{ajax_get:a}=n(1),{createTable:r}=n(6),{rightClickMenu_scopePreserver:i}=n(5),{apexUtils_removeElement:o}=n(0);function l(){s(),d()}function d(){!function(){var e=document.getElementById("contextSchemasTab");null===e&&(e=document.createElement("contextSchemasTab"));if(null!=(t=document.getElementById("contextSchemaTabContent")))return;var t=document.createElement("contextSchemaTabContent");e.appendChild(t),t.setAttribute("id","contextSchemaTabContent"),t.addEventListener("contextmenu",i("contextSchemaTabContent","ContextSchema",null,null));var n=r("contextSchemaTable");t.appendChild(n);var a=document.createElement("thead");n.appendChild(a),a.setAttribute("id","contextSchemaTableHeader");var o=document.createElement("tr");a.appendChild(o),o.setAttribute("id","contextSchemaTableHeaderRow");var l=document.createElement("th");o.appendChild(l),l.setAttribute("id","contextSchemaTableKeyHeader"),l.appendChild(document.createTextNode("Context Item"));var d=document.createElement("th");o.appendChild(d),d.setAttribute("id","contextSchemaTableJavatypeHeader"),d.appendChild(document.createTextNode("Schema Flavour"));var s=document.createElement("th");o.appendChild(s),s.setAttribute("id","contextSchemaTableJavatypeHeader"),s.appendChild(document.createTextNode("Context Item Schema Definition"));var u=document.createElement("tbody");n.appendChild(u),n.setAttribute("id","contextSchemaTableBody")}();var e=window.restRootURL+"/ContextSchema/Get?name=&version=";a(e,(function(e){$("#contextSchemaTableBody").find("tr:gt(0)").remove();for(var t=0;t<e.messages.message.length;t++){var n=JSON.parse(e.messages.message[t]).apexContextSchema,a=document.createElement("tr"),r="<td>"+(n.key.name+":"+n.key.version)+"</td><td>"+n.schemaFlavour+"</td><td><java>"+apexUtils_escapeHtml(n.schemaDefinition)+"</java></td>";a.innerHTML=r,a.addEventListener("contextmenu",i("contextSchemaTabContent","ContextSchema",n.key.name,n.key.version)),$("#contextSchemaTableBody").append(a)}}))}function s(){o("contextSchemaTabContent")}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s}));var a=n(1),r=n(5),i=n(6),o=n(0);function l(){s(),d()}function d(){!function(){var e=document.getElementById("eventsTab");null===e&&(e=document.createElement("eventsTab"));if(null!=(t=document.getElementById("eventTabContent")))return;var t=document.createElement("eventTabContent");e.appendChild(t),t.setAttribute("id","eventTabContent"),t.addEventListener("contextmenu",Object(r.rightClickMenu_scopePreserver)("eventTabContent","Event",null,null));var n=Object(i.createTable)("eventTable");t.appendChild(n);var a=document.createElement("thead");n.appendChild(a),a.setAttribute("id","eventTableHeader");var o=document.createElement("tr");a.appendChild(o),o.setAttribute("id","eventTableHeaderRow");var l=document.createElement("th");o.appendChild(l),l.setAttribute("id","eventTableKeyHeader"),l.appendChild(document.createTextNode("Event"));var d=document.createElement("th");o.appendChild(d),d.setAttribute("id","eventTableNamespaceHeader"),d.appendChild(document.createTextNode("Name Space"));var s=document.createElement("th");o.appendChild(s),s.setAttribute("id","eventTableSourceHeader"),s.appendChild(document.createTextNode("Source"));var u=document.createElement("th");o.appendChild(u),u.setAttribute("id","eventTableTargetHeader"),u.appendChild(document.createTextNode("Target"));var c=document.createElement("th");o.appendChild(c),c.setAttribute("id","eventTableParameterHeader"),c.appendChild(document.createTextNode("Parameters"));var m=document.createElement("tbody");n.appendChild(m),n.setAttribute("id","eventTableBody")}();var e=window.restRootURL+"/Event/Get?name=&version=";Object(a.ajax_get)(e,(function(e){$("#eventTableBody").find("tr:gt(0)").remove();for(var t=0;t<e.messages.message.length;t++){var n=JSON.parse(e.messages.message[t]).apexEvent,a=document.createElement("tr"),i="<td>"+(n.key.name+":"+n.key.version)+"</td><td>"+n.nameSpace+"</td><td>"+n.source+"</td><td>"+n.target+"</td>";i+="<td><table class='ebTable'><thead><tr><th>Parameter</th><th>Parameter Type/Schema</th><th>Optional</th></tr></thead><tbody>";for(var o=0;o<n.parameter.entry.length;o++){var l=n.parameter.entry[o];i+="<tr><td>"+l.key+"</td><td>"+l.value.fieldSchemaKey.name+":"+l.value.fieldSchemaKey.version+"<td>"+l.value.optional+"</td></tr>"}i+="</tbody></table></td>",a.innerHTML=i,a.addEventListener("contextmenu",Object(r.rightClickMenu_scopePreserver)("eventTabContent","Event",n.key.name,n.key.version)),$("#eventTableBody").append(a)}}))}function s(){Object(o.apexUtils_removeElement)("eventTabContent")}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s}));var a=n(6),r=n(1),i=n(5),o=n(0);function l(){s(),d()}function d(){!function(){var e=document.getElementById("tasksTab");null===e&&(e=document.createElement("tasksTab"));if(null!=(t=document.getElementById("taskTabContent")))return;var t=document.createElement("taskTabContent");e.appendChild(t),t.setAttribute("id","taskTabContent"),t.addEventListener("contextmenu",Object(i.rightClickMenu_scopePreserver)("taskTabContent","Task",null,null));var n=Object(a.createTable)("taskTable");t.appendChild(n);var r=document.createElement("thead");n.appendChild(r),r.setAttribute("id","taskTableHeader");var o=document.createElement("tr");r.appendChild(o),o.setAttribute("id","taskTableHeaderRow");var l=document.createElement("th");o.appendChild(l),l.setAttribute("id","taskTableKeyHeader"),l.appendChild(document.createTextNode("Task"));var d=document.createElement("th");o.appendChild(d),d.setAttribute("id","taskTableLogicFlavourHeader"),d.appendChild(document.createTextNode("Logic Flavour"));var s=document.createElement("th");o.appendChild(s),s.setAttribute("id","taskTableInputFieldHeader"),s.appendChild(document.createTextNode("Input Fields"));var u=document.createElement("th");o.appendChild(u),u.setAttribute("id","taskTableOutputFieldHeader"),u.appendChild(document.createTextNode("Output Fields"));var c=document.createElement("th");o.appendChild(c),c.setAttribute("id","taskTableParameterHeader"),c.appendChild(document.createTextNode("Parameters"));var m=document.createElement("th");o.appendChild(m),m.setAttribute("id","taskTableContextReferenceHeader"),m.appendChild(document.createTextNode("Context Album References"));var p=document.createElement("tbody");n.appendChild(p),n.setAttribute("id","taskTableBody")}();const e=window.restRootURL+"/Task/Get?name=&version=";Object(r.ajax_get)(e,(function(e){$("#taskTableBody").find("tr:gt(0)").remove();for(let s=0;s<e.messages.message.length;s++){const u=JSON.parse(e.messages.message[s]).apexTask,c=document.createElement("tr");u.key.name,u.key.version;var t="<td>"+u.key.name+":"+u.key.version+"</td><td>"+u.taskLogic.logicFlavour+"</td>";t+="<td><table class='ebTable'><thead><tr class='headerRow'><th>Field Name</th><th>Field Type/Schema</th><th>Optional</th></tr></thead><tbody>";for(var n=0;n<u.inputFields.entry.length;n++){t+="<tr><td>"+(a=u.inputFields.entry[n]).key+"</td><td>"+a.value.fieldSchemaKey.name+":"+a.value.fieldSchemaKey.version+"<td>"+a.value.optional+"</td></tr>"}t+="</tbody></table></td>",t+="<td><table class='ebTable'><thead><tr class='headerRow'><th>Field Name</th><th>Field Type/Schema</th><th>Optional</th></tr></thead><tbody>";for(n=0;n<u.outputFields.entry.length;n++){var a;t+="<tr><td>"+(a=u.outputFields.entry[n]).key+"</td><td>"+a.value.fieldSchemaKey.name+":"+a.value.fieldSchemaKey.version+"<td>"+a.value.optional+"</td></tr>"}t+="</tbody></table></td>",t+="<td><table class='ebTable'><thead><tr class='headerRow'><th>Parameter Name</th><th>Default Value</th></tr></thead><tbody>";for(var r=0;r<u.taskParameters.entry.length;r++){var o=u.taskParameters.entry[r];t+="<tr><td>"+o.key+"</td><td>"+o.value.defaultValue+"</td>"}t+="</tbody></table></td>",t+="<td><table class='ebTable'><tbody>";for(var l=0;l<u.contextAlbumReference.length;l++){var d=u.contextAlbumReference[l];t+="<tr><td>"+d.name+":"+d.version+"</td></tr>"}t+="</tbody></table></td>",c.innerHTML=t,c.addEventListener("contextmenu",Object(i.rightClickMenu_scopePreserver)("taskTabContent","Task",u.key.name,u.key.version)),$("#taskTableBody").append(c)}}))}function s(){Object(o.apexUtils_removeElement)("taskTabContent")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(5),r=n(6),i=n(1),o=n(0);function l(){s(),d()}function d(){!function(){var e=document.getElementById("policiesTab");null===e&&(e=document.createElement("policiesTab"));if(null!=(t=document.getElementById("policyTabContent")))return;var t=document.createElement("policyTabContent");e.appendChild(t),t.setAttribute("id","policyTabContent"),t.addEventListener("contextmenu",Object(a.rightClickMenu_scopePreserver)("policyTabContent","Policy",null,null));var n=Object(r.createTable)("policyTable");t.appendChild(n);var i=document.createElement("thead");n.appendChild(i),i.setAttribute("id","policyTableHeader");var o=document.createElement("tr");i.appendChild(o),o.setAttribute("id","policyTableHeaderRow");var l=document.createElement("th");o.appendChild(l),l.setAttribute("id","policyTableKeyHeader"),l.appendChild(document.createTextNode("Policy"));var d=document.createElement("th");o.appendChild(d),d.setAttribute("id","policyTableTemplateHeader"),d.appendChild(document.createTextNode("Template"));var s=document.createElement("th");o.appendChild(s),s.setAttribute("id","policyTableFirstStateHeader"),s.appendChild(document.createTextNode("First State"));var u=document.createElement("th");o.appendChild(u),u.setAttribute("id","policyTableStatesHeader"),u.appendChild(document.createTextNode("States"));var c=document.createElement("tbody");n.appendChild(c),n.setAttribute("id","policyTableBody")}();var e=window.restRootURL+"/Policy/Get?name=&version=";Object(i.ajax_get)(e,(function(e){$("#policyTableBody").find("tr:gt(0)").remove();for(var t=0;t<e.messages.message.length;t++){var n=JSON.parse(e.messages.message[t]).apexPolicy,r=document.createElement("tr"),i="<td>"+(n.policyKey.name+":"+n.policyKey.version)+"</td><td>"+n.template+"</td><td>"+n.firstState+"</td>";i+="<td><table class='ebTable'><thead><tr class='headerRow'><th>State</th><th>Trigger</th><th>Referenced Tasks</th><th>Default Task</th>",i+="<th>TSL</th><th>State Outputs</th><th>State Finsalizer Logic</th><th>Context Album References</th></tr></thead><tbody>";var o=n.state.entry;for(var l in o){if((d=o[l]).key==n.firstState){o.splice(l,1),o.unshift(d);break}}for(l=0;l<n.state.entry.length;l++){var d;i+="<tr><td>"+n.state.entry[l].key+"</td><td>"+(d=n.state.entry[l].value).trigger.name+":"+d.trigger.version+"</td>",i+="<td><table class='ebTable'><thead><tr class='headerRow'><th>Task Reference</th><th>Output Type</th><th>Output</th></thead><tbody>";for(var s=0;s<d.taskReferences.entry.length;s++){var u=d.taskReferences.entry[s].key,c=d.taskReferences.entry[s].value;i+="<tr><td>"+u.name+":"+u.version+"</td><td>"+c.outputType+"</td><td>"+c.output.localName+"</td>"}i+="</tbody></table></td>",i+="<td>"+d.defaultTask.name+":"+d.defaultTask.version+"</td><td>"+d.taskSelectionLogic.logicFlavour+"</td>",i+="<td><table class='ebTable'><thead><tr class='headerRow'><th>Name</th><th>Next State</th><th>Event</th></thead><tbody>";for(var m=0;m<d.stateOutputs.entry.length;m++){var p=d.stateOutputs.entry[m];i+="<tr><td>"+p.key+"</td><td>"+p.value.nextState.localName+"</td><td>"+p.value.outgoingEvent.name+":"+p.value.outgoingEvent.version+"</td>"}i+="</tbody></table></td>",i+="<td><table class='ebTable'><thead><tr class='headerRow'><th>Name</th><th>Type</th></thead><tbody>";for(var b=0;b<d.stateFinalizerLogicMap.entry.length;b++){var v=d.stateFinalizerLogicMap.entry[b];i+="<tr><td>"+v.key+"</td><td>"+v.value.logicFlavour+"</td>"}i+="</tbody></table></td>",i+="<td><table class='ebTable'><tbody>";for(var h=0;h<d.contextAlbumReference.length;h++){var f=d.contextAlbumReference[h];i+="<tr><td>"+f.name+":"+f.version+"</td></tr>"}i+="</tbody></table></td></tr>",i+="</tr>"}i+="</tbody></table></td>",r.innerHTML=i,r.addEventListener("contextmenu",Object(a.rightClickMenu_scopePreserver)("policyTabContent","Policy",n.policyKey.name,n.policyKey.version)),$("#policyTableBody").append(r)}}))}function s(){Object(o.apexUtils_removeElement)("policyTabContent")}},function(e,t,n){"use strict";n.r(t),n.d(t,"showPlaceholder",(function(){return y})),n.d(t,"pageControl_busyMode",(function(){return m})),n.d(t,"pageControl_modelMode",(function(){return u})),n.d(t,"pageControl_noModelMode",(function(){return c})),n.d(t,"pageControl_readyMode",(function(){return p})),n.d(t,"pageControl_recursiveDisable",(function(){return f})),n.d(t,"pageControl_restError",(function(){return h})),n.d(t,"pageControl_status",(function(){return v})),n.d(t,"pageControl_successStatus",(function(){return b}));var a=n(7),r=n(8),i=n(12),o=n(9),l=n(10),d=n(4),s=n(14);function u(e,t,n){$("#modelName").html(e),$("#modelVersion").html(t),$("#modelFileName").html(n||"N/A"),$("#menuFileNew").addClass("disabled"),$("#menuFileOpen").addClass("disabled"),$("#menuFileDownload").removeClass("disabled"),$("#menuFileUpload").removeClass("disabled"),$("#menuFileClear").removeClass("disabled"),$("#menuModelAnalyse").removeClass("disabled"),$("#menuModelValidate").removeClass("disabled"),$("#menuModelCompare").removeClass("disabled"),$("#menuModelSplit").removeClass("disabled"),$("#menuModelMerge").removeClass("disabled"),$("#menuConceptsContextSchemas").removeClass("disabled"),$("#menuConceptsEvents").removeClass("disabled"),$("#menuConceptsContextAlbums").removeClass("disabled"),$("#menuConceptsTasks").removeClass("disabled"),$("#menuConceptsPolicies").removeClass("disabled"),$("#menuConceptsKeyInformation").removeClass("disabled"),$(".modelTag").show("slide",{direction:"left"},200),$("#mainTabs").tabs({classes:{"ui-tabs-tab":"ui-tabs-tab-custom","ui-tabs-active":"ui-tabs-active-custom","ui-tabs-anchor":"ui-tabs-anchor-custom"},disabled:!1,activate:function(e,t){localStorage.setItem("apex_tab_index",t.newTab.index())}}),Object(a.a)(),Object(r.a)(),Object(i.contextAlbumTab_activate)(),Object(o.a)(),Object(l.a)(),Object(d.a)(),y(!1)}function c(){$(".modelTag").hide("slide",{direction:"left"},200),$("#modelName").html("N/A"),$("#modelVersion").html("N/A"),$("#modelFileName").html("N/A"),$("#menuFileNew").removeClass("disabled"),$("#menuFileOpen").removeClass("disabled"),$("#menuFileDownload").addClass("disabled"),$("#menuFileUpload").addClass("disabled"),$("#menuFileClear").addClass("disabled"),$("#menuModelAnalyse").addClass("disabled"),$("#menuModelValidate").addClass("disabled"),$("#menuModelCompare").addClass("disabled"),$("#menuModelSplit").addClass("disabled"),$("#menuModelMerge").addClass("disabled"),$("#menuConceptsContextSchemas").addClass("disabled"),$("#menuConceptsEvents").addClass("disabled"),$("#menuConceptsContextAlbums").addClass("disabled"),$("#menuConceptsTasks").addClass("disabled"),$("#menuConceptsPolicies").addClass("disabled"),$("#menuConceptsKeyInformation").addClass("disabled"),Object(a.b)(),Object(r.b)(),Object(i.contextAlbumTab_deactivate)(),Object(o.b)(),Object(l.b)(),Object(d.b)(),$("#mainTabs").tabs({classes:{"ui-tabs-tab":"ui-tabs-tab-custom","ui-tabs-active":"ui-tabs-active-custom","ui-tabs-anchor":"ui-tabs-anchor-custom"},disabled:[0,1,2,3,4,5]}),y(!0)}function m(){$("#menuFile").addClass("disabled"),$("#menuFileNew").addClass("disabled"),$("#menuFileOpen").addClass("disabled"),$("#menuFileDownload").addClass("disabled"),$("#menuFileClear").addClass("disabled"),$("#menuModelAnalyse").addClass("disabled"),$("#menuModelValidate").addClass("disabled"),$("#menuModelCompare").addClass("disabled"),$("#menuModelSplit").addClass("disabled"),$("#menuModelMerge").addClass("disabled"),$("#menuConceptsContextSchemas").addClass("disabled"),$("#menuConceptsEvents").addClass("disabled"),$("#menuConceptsContextAlbums").addClass("disabled"),$("#menuConceptsTasks").addClass("disabled"),$("#menuConceptsPolicies").addClass("disabled"),$("#menuConceptsKeyInformation").addClass("disabled"),$("#mainTabs").tabs({classes:{"ui-tabs-tab":"ui-tabs-tab-custom","ui-tabs-active":"ui-tabs-active-custom","ui-tabs-anchor":"ui-tabs-anchor-custom"},disabled:!1}),Object(a.a)(),Object(r.a)(),Object(i.contextAlbumTab_activate)(),Object(o.a)(),Object(l.a)(),Object(d.a)(),y(!1)}function p(){$("#menuFile").removeClass("disabled"),$("#menuFileNew").removeClass("disabled"),$("#menuFileOpen").removeClass("disabled"),$("#menuFileDownload").removeClass("disabled"),$("#menuFileClear").removeClass("disabled"),$("#menuModelAnalyse").removeClass("disabled"),$("#menuModelValidate").removeClass("disabled"),$("#menuModelCompare").removeClass("disabled"),$("#menuModelSplit").removeClass("disabled"),$("#menuModelMerge").removeClass("disabled"),$("#menuConceptsContextSchemas").removeClass("disabled"),$("#menuConceptsEvents").removeClass("disabled"),$("#menuConceptsContextAlbums").removeClass("disabled"),$("#menuConceptsTasks").removeClass("disabled"),$("#menuConceptsPolicies").removeClass("disabled"),$("#menuConceptsKeyInformation").removeClass("disabled"),Object(a.b)(),Object(r.b)(),Object(i.contextAlbumTab_deactivate)(),Object(o.b)(),Object(l.b)(),Object(d.b)(),$("#mainTabs").tabs({classes:{"ui-tabs-tab":"ui-tabs-tab-custom","ui-tabs-active":"ui-tabs-active-custom","ui-tabs-anchor":"ui-tabs-anchor-custom"},disabled:[0,1,2,3,4,5]}),y(!0)}function b(e){if($("#statusString").html(e.result),$("#statusMessageTable").empty(),!e.ok){$("#statusString").css("color","red"),$("#ebInlineMessage-iconHolder-icon").attr("class","ebIcon ebIcon_big ebIcon_error");for(var t=0;t<e.messages.message.length;t++)$("#statusMessageTable").append("<tr><td>"+e.messages.message[t]+"</td></tr>");throw-1!==e.content.indexOf("A session with session ID ")&&-1!==e.content.indexOf(" does not exist")&&(Object(s.clearLocalStorage)(),location.reload()),"REST call returned an error\n"+e}$("#statusString").css("color","green"),$("#ebInlineMessage-iconHolder-icon").attr("class","ebIcon ebIcon_big ebIcon_tick")}function v(e){$("#statusString").html(e.result),$("#statusMessageTable").empty(),e.ok?($("#statusString").css("color","green"),$("#ebInlineMessage-iconHolder-icon").attr("class","ebIcon ebIcon_big ebIcon_tick")):($("#statusString").css("color","red"),$("#ebInlineMessage-iconHolder-icon").attr("class","ebIcon ebIcon_big ebIcon_error"))}function h(e,t,n,a){$("#statusString").html("REST_ERROR"),$("#statusString").css("color","red"),$("#ebInlineMessage-iconHolder-icon").attr("class","ebIcon ebIcon_big ebIcon_error"),$("#statusMessageTable").empty(),$("#statusMessageTable").append('<tr><td>request "'+e+'" returned  "'+n+'" '+t.status+' "'+a+'"</td></tr>')}function f(e,t,n){try{e.readOnly=t,e.style.visibility=n?"visible":"hidden"}catch(e){}if(e.childNodes&&e.childNodes.length>0)for(var a=0;a<e.childNodes.length;a++)recursiveDisable(e.childNodes[a],t,n)}function y(e){e?$(".placeholder").show():$(".placeholder").hide()}},function(e,t,n){"use strict";n.r(t),n.d(t,"contextAlbumTab_reset",(function(){return l})),n.d(t,"contextAlbumTab_create",(function(){return u})),n.d(t,"contextAlbumTab_activate",(function(){return d})),n.d(t,"contextAlbumTab_deactivate",(function(){return s}));var a=n(5),r=n(6),i=n(1),o=n(0);function l(){s(),d()}function d(){u();var e=window.restRootURL+"/ContextAlbum/Get?name=&version=";Object(i.ajax_get)(e,(function(e){$("#contextAlbumTableBody").find("tr:gt(0)").remove();for(var t=0;t<e.messages.message.length;t++){var n=JSON.parse(e.messages.message[t]).apexContextAlbum,r=document.createElement("tr"),i=(n.key.name,n.key.version,"<td>"+n.key.name+":"+n.key.version+"</td><td>"+n.scope+"</td><td>"+n.isWritable+"</td><td>"+n.itemSchema.name+":"+n.itemSchema.version+"</td>");r.innerHTML=i,r.addEventListener("contextmenu",Object(a.rightClickMenu_scopePreserver)("contextAlbumTabContent","contextAlbum",n.key.name,n.key.version)),$("#contextAlbumTableBody").append(r)}}))}function s(){Object(o.apexUtils_removeElement)("contextAlbumTabContent")}function u(){var e=document.getElementById("contextAlbumsTab");if(null===e&&(e=document.createElement("contextAlbumsTab")),null==(t=document.getElementById("contextAlbumTabContent"))){var t=document.createElement("contextAlbumTabContent");e.appendChild(t),t.setAttribute("id","contextAlbumTabContent"),t.addEventListener("contextmenu",Object(a.rightClickMenu_scopePreserver)("contextAlbumTabContent","contextAlbum",null,null));var n=Object(r.createTable)("contextAlbumTable");t.appendChild(n);var i=document.createElement("thead");n.appendChild(i),i.setAttribute("id","contextAlbumTableHeader");var o=document.createElement("tr");i.appendChild(o),o.setAttribute("id","contextAlbumTableHeaderRow");var l=document.createElement("th");o.appendChild(l),l.setAttribute("id","contextAlbumTableKeyHeader"),l.appendChild(document.createTextNode("Context Album"));var d=document.createElement("th");o.appendChild(d),d.setAttribute("id","contextAlbumTableScopeHeader"),d.appendChild(document.createTextNode("Scope"));var s=document.createElement("th");o.appendChild(s),s.setAttribute("id","contextAlbumTableWritableHeader"),s.appendChild(document.createTextNode("Writable"));var u=document.createElement("th");o.appendChild(u),u.setAttribute("id","contextAlbumTableItemSchemaHeader"),u.appendChild(document.createTextNode("Item Schema"));var c=document.createElement("tbody");n.appendChild(c),n.setAttribute("id","contextAlbumTableBody")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"newModelForm_activate",(function(){return d})),n.d(t,"newModelForm_cancelPressed",(function(){return c})),n.d(t,"newModelForm_generateDescriptionPressed",(function(){return u})),n.d(t,"newModelForm_generateUUIDPressed",(function(){return s})),n.d(t,"newModelForm_submitPressed",(function(){return m}));var a=n(2),r=n(0),i=n(11),o=n(1),l=n(4);function d(e){Object(r.apexUtils_removeElement)("newModelFormDiv");var t=document.createElement("newModelFormDiv"),n=document.createElement("div"),a=document.createElement("div");a.setAttribute("id","newModelDivBackground"),a.setAttribute("class","newModelDivBackground"),a.appendChild(n),t.appendChild(a),e.appendChild(t),n.setAttribute("id","newModelFormDiv"),n.setAttribute("class","newModelFormDiv");var i=document.createElement("span");n.appendChild(i),i.setAttribute("class","headingSpan"),i.innerHTML="Model Details";var o=document.createElement("newModelForm");n.appendChild(o),o.setAttribute("id","newModelForm"),o.setAttribute("class","form-style-1"),o.setAttribute("method","post");var l=document.createElement("ul");o.appendChild(l);var d=document.createElement("li");o.appendChild(d);var p=document.createElement("label");d.appendChild(p),p.setAttribute("for","newModelFormNameInput"),p.innerHTML="Name: ";var b=document.createElement("span");p.appendChild(b),b.setAttribute("class","required"),b.innerHTML="*";var v=document.createElement("input");d.appendChild(v),v.setAttribute("id","newModelFormNameInput"),v.setAttribute("type","text"),v.setAttribute("name","newModelFormameInput"),v.setAttribute("class","field ebInput ebInput_width_xLong"),v.setAttribute("placeholder","name");var h=document.createElement("li");o.appendChild(h);var f=document.createElement("label");h.appendChild(f),f.setAttribute("for","newModelFormVersionInput"),f.innerHTML="Version: ";var y=document.createElement("input");h.appendChild(y),y.setAttribute("id","newModelFormVersionInput"),y.setAttribute("type","text"),y.setAttribute("name","newModelFormVersionInput"),y.setAttribute("class","field ebInput ebInput_width_xLong"),y.setAttribute("placeholder","0.0.1");var E=document.createElement("li");o.appendChild(E);var A=document.createElement("label");E.appendChild(A),A.setAttribute("for","newModelFormUuidInput"),A.innerHTML="UUID: ";var C=document.createElement("input");E.appendChild(C),C.setAttribute("id","newModelFormUuidInput"),C.setAttribute("type","text"),C.setAttribute("name","newModelFormUuidInput"),C.setAttribute("class","field-long  ebInput ebInput_width_full"),C.setAttribute("placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx");var x=document.createElement("li");o.appendChild(x);var g=document.createElement("label");x.appendChild(g),g.setAttribute("for","newModelFormDescriptionTextArea"),g.innerHTML="Description: ";var T=document.createElement("textarea");x.appendChild(T),T.setAttribute("id","newModelFormDescriptionTextArea"),T.setAttribute("name","newModelFormDescriptionTextArea"),T.setAttribute("class","field-long field-textarea ebTextArea ebTextArea_width_full");var I=document.createElement("li");o.appendChild(I);var k=document.createElement("input");I.appendChild(k),k.setAttribute("id","generateUUID"),k.setAttribute("class","button ebBtn"),k.setAttribute("type","submit"),k.setAttribute("value","Generate UUID"),k.onclick=s;var _=document.createElement("span");I.appendChild(_),_.setAttribute("class","required"),_.innerHTML=" ";var F=document.createElement("input");I.appendChild(F),F.setAttribute("id","generateDescription"),F.setAttribute("class","button ebBtn"),F.setAttribute("type","submit"),F.setAttribute("value","Generate Description"),F.onclick=u;var w=document.createElement("span");I.appendChild(w),w.setAttribute("class","required"),w.innerHTML=" ";var O=document.createElement("input");I.appendChild(O),O.setAttribute("id","generateDescription"),O.setAttribute("class","button ebBtn"),O.setAttribute("type","submit"),O.setAttribute("value","Cancel"),O.onclick=c;var L=document.createElement("span");I.appendChild(L),L.setAttribute("class","required"),L.innerHTML=" ";var S=document.createElement("input");I.appendChild(S),S.setAttribute("id","submit"),S.setAttribute("class","button ebBtn"),S.setAttribute("type","submit"),S.setAttribute("value","Submit"),S.onclick=m}function s(){document.getElementById("newModelFormUuidInput").value=Object(a.formUtils_generateUUID)()}function u(){document.getElementById("newModelFormDescriptionTextArea").value=Object(a.formUtils_generateDescription)(document.getElementById("newModelFormNameInput").value,document.getElementById("newModelFormVersionInput").value,document.getElementById("newModelFormUuidInput").value)}function c(){Object(r.apexUtils_removeElement)("newModelDivBackground")}function m(){var e=JSON.stringify({name:$("#newModelFormNameInput").val(),version:$("#newModelFormVersionInput").val(),uuid:$("#newModelFormUuidInput").val(),description:$("#newModelFormDescriptionTextArea").val()}),t=window.restRootURL+"/Model/Create";Object(o.ajax_post)(t,e,(function(e){Object(r.apexUtils_removeElement)("newModelDivBackground");var t=window.restRootURL+"/Model/GetKey";Object(o.ajax_get)(t,(function(e){var t=JSON.parse(e.messages.message[0]).apexArtifactKey,n=t.name+".json";Object(i.pageControl_modelMode)(t.name,t.version,n)})),Object(l.c)()}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"clearLocalStorage",(function(){return v}));var a=n(11),r=n(13),i=n(0);function o(e,t,n){Object(i.apexUtils_removeElement)("newModelDivBackground");var a=document.createElement("resultFormDiv"),r=document.createElement("div"),o=document.createElement("div");o.setAttribute("id","newModelDivBackground"),o.setAttribute("class","newModelDivBackground"),o.appendChild(r),a.appendChild(o),e.appendChild(a),r.setAttribute("id","resultFormDiv"),r.setAttribute("class","resultFormDiv");var d=document.createElement("span");r.appendChild(d),d.setAttribute("class","headingSpan"),d.innerHTML=t;var s=document.createElement("resultForm");r.appendChild(s),s.setAttribute("id","resultForm"),s.setAttribute("class","form-style-1"),s.setAttribute("method","post");var u=document.createElement("ul");s.appendChild(u);var c=document.createElement("li");s.appendChild(c);var m=document.createElement("label");c.appendChild(m),m.setAttribute("for","resultFormTextArea"),m.innerHTML="resultText: ";var p=document.createElement("textarea");c.appendChild(p),p.setAttribute("id","resultFormTextArea"),p.setAttribute("resultText","resultFormTextArea"),p.setAttribute("class","field-long field-textarea ebTextArea ebTextArea_width_full eb_scrollbar"),p.setAttribute("readonly","readonly"),p.style.cursor="text",p.value=n;var b=document.createElement("li");s.appendChild(b);var v=document.createElement("input");b.appendChild(v),v.setAttribute("id","generateDescription"),v.setAttribute("class","okButton ebBtn"),v.setAttribute("type","submit"),v.setAttribute("value","OK"),v.onclick=l}function l(){Object(i.apexUtils_removeElement)("newModelDivBackground")}const{ajax_put:d,ajax_get:s,ajax_getOKOrFail:u}=n(1),{pageControl_modelMode:c}=n(11),{modelFileName:m}=n(13);var p=n(1);var b=null;function v(){localStorage.removeItem("apex_session"),localStorage.removeItem("apex_model_loaded"),localStorage.removeItem("apex_tab_index")}$(document).ready((function(){$("#menu").fileMenu({slideSpeed:200}),Object(a.pageControl_noModelMode)(),function(){var e=location.protocol+"//"+window.location.hostname+(location.port?":"+location.port:"")+(location.pathname.endsWith("/editor/")?location.pathname.substring(0,location.pathname.indexOf("editor/")):location.pathname),t="apexservices/editor/";if(localStorage.getItem("apex_session")){b=e+t+localStorage.getItem("apex_session"),console.log("restRootURL: "+b),window.restRootURL=e+t+localStorage.getItem("apex_session"),console.log("window.restRootURL: "+window.restRootURL);var n=b+"/Model/GetKey";Object(p.ajax_get)(n,(function(e){if($("#statusMessageTable").append("<tr><td> REST root URL set to: "+b+"</td></tr>"),localStorage.getItem("apex_model_loaded")){var t=JSON.parse(e.messages.message[0]).apexArtifactKey;Object(a.pageControl_modelMode)(t.name,t.version,null),localStorage.getItem("apex_tab_index")&&$("#mainTabs").tabs({active:localStorage.getItem("apex_tab_index")})}}))}else{var r=e+t+"-1/Session/Create";Object(p.ajax_get)(r,(function(n){localStorage.setItem("apex_session",n.messages.message[0]),b=e+t+localStorage.getItem("apex_session"),$("#statusMessageTable").append("<tr><td> REST root URL set to: "+b+"</td></tr>")}))}}(),$(".content").fadeIn()})),$("#menu li").not(".emptyMessage").click((function(){switch(this.id){case"menuFileNew":Object(r.newModelForm_activate)(document.getElementById("mainArea"));break;case"menuFileOpen":$('<input type="file">').on("change",(function(){var e=new FileReader,t=this.files[0].name;e.readAsText(this.files[0]),e.onload=function(e){var n=window.restRootURL+"/Model/Load";d(n,e.target.result,(function(e){localStorage.setItem("apex_model_loaded",!0);var n=window.restRootURL+"/Model/GetKey";s(n,(function(e){var n=JSON.parse(e.messages.message[0]).apexArtifactKey;c(n.name,n.version,t)}))}))}})).click();break;case"menuFileDownload":!function(){var e=window.restRootURL+"/Model/Download",t=document.createElement("a");document.body.appendChild(t),t.download=m,t.href=e,t.click(),document.body.removeChild(t)}();break;case"menuFileUpload":!function(){var e=window.restRootURL+"/Model/Upload";u(e,(function(e){for(var t="",n=0;n<e.messages.message.length;n++)t+=e.messages.message[n]+"\n";o(document.getElementById("mainArea"),"Model Upload Result",t)}))}();break;case"menuFileClear":if(confirm("Clear the current model?")){var e=b+"/Model/Delete";Object(p.ajax_delete)(e,(function(e){localStorage.removeItem("apex_model_loaded"),localStorage.removeItem("apex_tab_index"),$("#mainTabs").tabs("option","active",0),Object(a.pageControl_noModelMode)()}))}break;case"menuFileNewSession":v(),location.reload();break;case"menuFileClose":confirm("Close Apex Editor?")&&(v(),window.location.href=window.location.href+"close.html");break;case"menuModelAnalyse":!function(){var e=window.restRootURL+"/Model/Analyse";Object(p.ajax_get)(e,(function(e){o(document.getElementById("mainArea"),"Model Analysis Result",e.messages.message[0])}))}();break;case"menuModelValidate":!function(){var e=window.restRootURL+"/Model/Validate";Object(p.ajax_getOKOrFail)(e,(function(e){for(var t="",n=1;n<e.messages.message.length;n++)t+=e.messages.message[n]+"\n";o(document.getElementById("mainArea"),"Model Validation Result",t)}))}();break;case"menuConceptsContextSchemas":$("#mainTabs").tabs("option","active",0);break;case"menuConceptsEvents":$("#mainTabs").tabs("option","active",1);break;case"menuConceptsContextAlbums":$("#mainTabs").tabs("option","active",2);break;case"menuConceptsTasks":$("#mainTabs").tabs("option","active",3);break;case"menuConceptsPolicies":$("#mainTabs").tabs("option","active",4);break;case"menuConceptsKeyInformation":$("#mainTabs").tabs("option","active",5)}}));var h=$(".ebInlineMessage").height();$(".ebInlineMessage").mouseenter((function(e){e.stopPropagation(),$(this).stop();var t=$(this).children(".ebInlineMessage-contentHolder").height();t>h&&$(".ebInlineMessage").animate({height:t+12},200)})),$(".ebInlineMessage").mouseleave((function(e){e.stopPropagation(),$(this).stop(),$(".ebInlineMessage").animate({height:h},200)}))}]);